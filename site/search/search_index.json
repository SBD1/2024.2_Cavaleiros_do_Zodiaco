{"config":{"lang":["pt"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"2024.2_Cavaleiros_do_Zodiaco","text":"<p> <p></p> <p>Figura 1 - Logo do desenho</p> <p></p>"},{"location":"#sobre-o-projeto","title":"Sobre o projeto","text":"<p>Projeto criado para a disciplina de Sistema de Banco de Dados 1 ministrada pelo professor Mauricio Serrano. Neste projeto, ser\u00e1 desenvolvido um jogo MUD onde os conceitos de bancos de dados ser\u00e3o aplicados. Ao fim do projeto, ser\u00e1 entregue um jogo funcional inspirado no famoso desenho Cavaleiros do Zodiaco criado pelo Masami Kurumada.</p>"},{"location":"#entregas","title":"Entregas","text":"<ul> <li> <p>Modulo 1:</p> </li> <li> <p>Modelo Entidade Relacionamento</p> </li> <li> <p>Diagrama Entidade Relacionamento</p> </li> <li> <p>Modelo L\u00f3gico</p> </li> <li> <p>Diagrama de dados</p> </li> </ul>"},{"location":"#apresentacoes","title":"Apresenta\u00e7\u00f5es","text":"<ul> <li>M\u00f3dulo 1</li> </ul>"},{"location":"#membros-do-grupo","title":"Membros do grupo","text":"<p> <sub>Lucas Avelar</sub> <sub>Lucas Ramon</sub> <sub>Pedro Lucas Dourado</sub> <sub>Victor Andreozzi</sub> <sub>Vinicius Rufino</sub> <p></p>"},{"location":"DML_DDL/","title":"DML DDL","text":""},{"location":"DML_DDL/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Este projeto utiliza um banco de dados relacional para gerenciar informa\u00e7\u00f5es dos NPCs (personagens n\u00e3o jog\u00e1veis), miss\u00f5es e salas dentro do jogo. A estrutura foi desenvolvida utilizando comandos SQL, com o uso de DDL (Data Definition Language) para criar e alterar tabelas e DML (Data Manipulation Language) para manipula\u00e7\u00e3o dos dados.</p> <p>O objetivo desta documenta\u00e7\u00e3o \u00e9 detalhar como o banco foi estruturado e apresentar exemplos pr\u00e1ticos de DDL e DML.</p>"},{"location":"DML_DDL/#estrutura-do-banco-de-dados","title":"Estrutura do Banco de Dados","text":""},{"location":"DML_DDL/#principais-tabelas","title":"Principais Tabelas","text":"<ol> <li>Npc_Ferreiro:</li> <li>Gerencia informa\u00e7\u00f5es sobre ferreiros no jogo.</li> <li> <p>Cont\u00e9m colunas como:</p> <ul> <li><code>id_npc_ferreiro</code>: Identificador \u00fanico.</li> <li><code>id_sala</code>: Relaciona a sala onde o ferreiro est\u00e1 localizado.</li> <li>Campos descritivos como <code>nome</code>, <code>descricao</code> e di\u00e1logos (ex.: <code>dialogo_inicial</code>).</li> </ul> </li> <li> <p>Npc_Quest:</p> </li> <li>Armazena informa\u00e7\u00f5es sobre NPCs que oferecem miss\u00f5es.</li> <li> <p>Principais colunas:</p> <ul> <li><code>id_npc_quest</code>: Identificador \u00fanico.</li> <li><code>id_sala</code>: Relaciona a sala onde o NPC est\u00e1 localizado.</li> <li><code>nome</code> e <code>descricao</code> do NPC.</li> </ul> </li> <li> <p>Npc_Mercador:</p> </li> <li>Cont\u00e9m dados sobre mercadores no jogo.</li> <li>Principais colunas:<ul> <li><code>id_npc_mercador</code>: Identificador \u00fanico.</li> <li><code>id_sala</code>: Relaciona a sala onde o mercador est\u00e1.</li> <li>Campos como <code>dialogo_comprar</code>, <code>dialogo_vender</code> e <code>dialogo_sair</code>.</li> </ul> </li> </ol>"},{"location":"DML_DDL/#diagrama-de-relacionamento","title":"Diagrama de Relacionamento","text":"<p>Figura 1 - DER</p>"},{"location":"DML_DDL/#comandos-ddl-data-definition-language","title":"Comandos DDL (Data Definition Language)","text":""},{"location":"DML_DDL/#criacao-de-tabelas","title":"Cria\u00e7\u00e3o de Tabelas","text":"<p>Abaixo est\u00e1 um exemplo de como a tabela <code>Npc_Ferreiro</code> foi criada:</p> <pre><code>CREATE TABLE Npc_Ferreiro (\n    id_npc_ferreiro INTEGER PRIMARY KEY,\n    id_sala INTEGER NOT NULL,\n    id_missao_desbloqueia INTEGER NOT NULL,\n    nome VARCHAR NOT NULL,\n    descricao VARCHAR,\n    dialogo_inicial VARCHAR,\n    dialogo_reparar VARCHAR,\n    dialogo_upgrade VARCHAR\n);\n</code></pre>"},{"location":"DML_DDL/#alteracao-de-tabelas","title":"Altera\u00e7\u00e3o de tabelas","text":"<pre><code>-- Adiciona uma chave estrangeira que conecta Npc_Ferreiro \u00e0 tabela Sala\nALTER TABLE Npc_Ferreiro ADD CONSTRAINT FK_Npc_Ferreiro_2\n    FOREIGN KEY (id_sala)\n    REFERENCES Sala (id_sala);\n\n-- Adiciona uma chave estrangeira que conecta Npc_Ferreiro \u00e0 tabela Missao\nALTER TABLE Npc_Ferreiro ADD CONSTRAINT FK_Npc_Ferreiro_3\n    FOREIGN KEY (id_missao_desbloqueia)\n    REFERENCES Missao (id_missao);\n</code></pre>"},{"location":"DML_DDL/#comandos-dml-data-mnaipulation-language","title":"Comandos DML (Data Mnaipulation Language)","text":""},{"location":"DML_DDL/#insecao-de-dados","title":"Inse\u00e7\u00e3o de dados","text":"<p>Abaixo, um exemplo de inser\u00e7\u00e3o de dados na tabela Npc_Ferreiro:</p> <pre><code>INSERT INTO Npc_Ferreiro (id_npc_ferreiro, id_sala, id_missao_desbloqueia, nome, descricao)\nVALUES (1, 2, 3, 'Ferreiro Jo\u00e3o', 'Especialista em armas pesadas');\n</code></pre>"},{"location":"DML_DDL/#consulta-arualizacao-e-exclusao-de-dados","title":"Consulta, Arualiza\u00e7\u00e3o e Exclusao de dados","text":"<p>Abaixo seguem exemplos dessas tr\u00eas opera\u00e7\u00f5es.</p> <pre><code>SELECT * FROM Npc_Ferreiro;\nSELECT * FROM Npc_Ferreiro;\nUPDATE Npc_Ferreiro\nSET descricao = 'Especialista em armaduras'\nWHERE id_npc_ferreiro = 1;\nDELETE FROM Npc_Ferreiro\nWHERE id_npc_ferreiro = 1;\n</code></pre>"},{"location":"apresentacao/modulo1/","title":"Apresenta\u00e7\u00e3o","text":""},{"location":"apresentacao/modulo1/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>O objetivo dessa pagina \u00e9 mostrar o v\u00eddeo da apresenta\u00e7\u00e3o da entrega do M\u00f3dulo 1 do projeto, que consiste em Modelo Entidade-Relacionamento (MER), Diagrama Entidade Relacionamento (DER) e Dicion\u00e1rio de Dados.</p>"},{"location":"apresentacao/modulo1/#video-da-apresentacao","title":"V\u00eddeo da apresenta\u00e7\u00e3o","text":"<p>No v\u00eddeo 1 abaixo segue o v\u00eddeo da nossa apresenta\u00e7\u00e3o do m\u00f3dulo 1, ou acesse clicando aqui</p> <p> <p>V\u00eddeo 1 - Apresenta\u00e7\u00e3o do m\u00f3dulo 1</p> <p> Fonte: Pedro Lucas </p> <p></p>"},{"location":"modulo01/der/","title":"Diagrama Entidade Relacionamento","text":""},{"location":"modulo01/der/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Segundo Elmasri e Navathe, a modelagem conceitual \u00e9 uma fase muito importante no projeto de uma aplica\u00e7\u00e3o de banco de dados bem-sucedida.</p> <p>Sob esse vi\u00e9s, o Modelo Entidade-Relacionamento (ER) \u00e9 um modelo de dados conceitual popular de alto n\u00edvel em que esse modelo e suas varia\u00e7\u00f5es costumam ser utilizados para o projeto conceitual de aplica\u00e7\u00f5es de banco de dados, e muitas ferramentas de projeto de banco de dados empregam seus conceitos.</p> <p>O Diagrama Entidade Relacionamento (DER) \u00e9 uma representa\u00e7\u00e3o gr\u00e1fica do Modelo Entidade Relacionamento (MER), ele possui tipos de entidade que s\u00e3o mostrados nas caixas retangulares; tipos de relacionamento ques\u00e3o mostrados em caixas em forma de losango, conectadas aos tipos de entidade participantes com linhas retas; atributos mostrados em ovais, e cada atributo \u00e9 conectado por uma linha reta a seu tipo de entidade ou tipo de relacionamento.</p> <p>Al\u00e9m disso \u00e9 adotado os nomes de entidade no singular, Como uma pr\u00e1tica geral, dada uma descri\u00e7\u00e3o narrativa dos requisitos do banco de dados, os nomes que aparecem na narrativa tendem a gerar nomes de tipo de entidade, e os verbos tendem a indicar nomes de tipos de relacionamento.</p>"},{"location":"modulo01/der/#objetivo","title":"Objetivo","text":"<p>Apresentar o Diagrama Entidade-Relacionamento (DER) confeccionado para o projeto de forma que tenha uma representa\u00e7\u00e3o clara e estruturada do Modelo Entidade Relacionamento facilitando o entendimento dos componentes que ir\u00e3o estar no banco de dados do projeto.</p>"},{"location":"modulo01/der/#diagrama-entidade-relacionamento-der","title":"Diagrama Entidade-Relacionamento (DER)","text":"<p>A figura 1 a seguir mostra a primeira vers\u00e3o do Diagrama Entidade Relacionamento desenvolvido pelo grupo:</p> <p> <p>Figura 1 - Primeira vers\u00e3o do DER</p> <p> Fonte: Pedro Lucas </p> <p></p> <p> <p>Figura 2 - DER Vers\u00e3o 1.1</p> <p> Fonte: Pedro Lucas </p> <p> <p>Figura 3 - DER Vers\u00e3o 2.0</p> <p> Fonte: Pedro Lucas </p> <p></p>"},{"location":"modulo01/der/#referencia-bibliografica","title":"Refer\u00eancia Bibliogr\u00e1fica","text":"<p>[1] ELMASRI, Ramez; NAVATHE, Shamkant B. Sistemas de banco de dados. Tradu\u00e7\u00e3o: Daniel Vieira. Revis\u00e3o t\u00e9cnica: Enzo Seraphim; Thatyana de Faria Piola Seraphim. 6. ed. S\u00e3o Paulo: Pearson Addison Wesley, 2011. Cap\u00edtulo 7. Modelagem de dados usando o modelo Entidade-Relacionamento (ER), p\u00e1ginas 131 e 146.</p>"},{"location":"modulo01/der/#bibliografia","title":"Bibliografia","text":"<p>Diagrama Entidade Relacionamento Stardew Valley. Dispon\u00edvel em: https://github.com/SBD1/2023.2-Grupo01-StardewValley/blob/main/docs/Entrega-01/DER_StardewValley_v1.0.md. Acesso em 24 de novembro de 2024.</p> <p>Diagrama Entidade Relacionamento Fear and Hunger. Dispon\u00edvel em: https://github.com/SBD1/2023.2_Fear_and_Hunger/blob/main/docs/modulo_01/assets/DERv/DERv2.3.png. Acesso em 24 de novembro de 2024.</p>"},{"location":"modulo01/der/#historico-de-versao","title":"Hist\u00f3rico de vers\u00e3o","text":"Data Descri\u00e7\u00e3o Autor 24/11/2024 Vers\u00e3o inicial do DER Pedro Lucas 12/01/2024 Vers\u00e3o 2.0 do DER Pedro Lucas"},{"location":"modulo01/dicionario/","title":"Dicion\u00e1rio de Dados","text":""},{"location":"modulo01/dicionario/#tabelas-e-relacoes","title":"Tabelas e Rela\u00e7\u00f5es","text":""},{"location":"modulo01/dicionario/#tabela-npc_ferreiro","title":"Tabela: Npc_Ferreiro","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_npc_ferreiro</code> INTEGER PRIMARY KEY <code>id_sala</code> INTEGER FOREIGN KEY (<code>id_sala</code>) REFERENCES <code>Sala(id_sala)</code> <code>id_missao_desbloqueia</code> INTEGER FOREIGN KEY (<code>id_missao_desbloqueia</code>) REFERENCES <code>Missao(id_missao)</code> <code>nome</code> VARCHAR NOT NULL <code>descricao</code> VARCHAR <code>dialogo_inicial</code> VARCHAR <code>dialogo_reparar</code> VARCHAR <code>dialogo_upgrade</code> VARCHAR"},{"location":"modulo01/dicionario/#tabela-npc_quest","title":"Tabela: Npc_Quest","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_npc_quest</code> INTEGER PRIMARY KEY <code>id_sala</code> INTEGER FOREIGN KEY (<code>id_sala</code>) REFERENCES <code>Sala(id_sala)</code> <code>nome</code> VARCHAR NOT NULL <code>descricao</code> VARCHAR <code>dialogo_inicial</code> VARCHAR <code>dialogo_recusa</code> VARCHAR"},{"location":"modulo01/dicionario/#tabela-npc_mercador","title":"Tabela: Npc_Mercador","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_npc_mercador</code> INTEGER PRIMARY KEY <code>id_sala</code> INTEGER FOREIGN KEY (<code>id_sala</code>) REFERENCES <code>Sala(id_sala)</code> <code>nome</code> VARCHAR NOT NULL <code>descricao</code> VARCHAR <code>dialogo_inicial</code> VARCHAR <code>dialogo_vender</code> VARCHAR <code>dialogo_comprar</code> VARCHAR <code>dialogo_sair</code> VARCHAR"},{"location":"modulo01/dicionario/#tabela-cavaleiro","title":"Tabela: Cavaleiro","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_cavaleiro</code> SERIAL PRIMARY KEY <code>id_classe</code> INTEGER FOREIGN KEY (<code>id_classe</code>) REFERENCES <code>Classe(id_classe)</code> <code>id_elemento</code> INTEGER FOREIGN KEY (<code>id_elemento</code>) REFERENCES <code>Elemento(id_elemento)</code> <code>nome</code> VARCHAR UNIQUE, NOT NULL <code>nivel</code> INTEGER NOT NULL <code>hp_max</code> INTEGER NOT NULL <code>magia_max</code> INTEGER NOT NULL <code>velocidade_base</code> INTEGER NOT NULL <code>ataque_fisico_base</code> INTEGER NOT NULL <code>ataque_magico_base</code> INTEGER NOT NULL"},{"location":"modulo01/dicionario/#tabela-boss","title":"Tabela: Boss","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_boss</code> SERIAL PRIMARY KEY <code>id_sala</code> INTEGER FOREIGN KEY (<code>id_sala</code>) REFERENCES <code>Sala(id_sala)</code> <code>nome</code> INTEGER NOT NULL <code>nivel</code> INTEGER NOT NULL <code>xp_acumulado</code> INTEGER NOT NULL <code>hp_max</code> INTEGER NOT NULL <code>hp_atual</code> INTEGER NOT NULL <code>magia_max</code> INTEGER NOT NULL <code>magia_atual</code> INTEGER NOT NULL <code>velocidade</code> INTEGER NOT NULL <code>ataque_fisico_base</code> INTEGER NOT NULL <code>ataque_magico_base</code> INTEGER NOT NULL <code>dinheiro</code> INTEGER NOT NULL <code>fala_inicio</code> VARCHAR <code>fala_derrotar_player</code> VARCHAR <code>fala_derrotado</code> VARCHAR <code>fala_condicao</code> VARCHAR"},{"location":"modulo01/dicionario/#tabela-inimigo","title":"Tabela: Inimigo","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_inimigo</code> SERIAL PRIMARY KEY <code>id_classe</code> INTEGER FOREIGN KEY (<code>id_classe</code>) REFERENCES <code>Classe(id_classe)</code> <code>id_elemento</code> INTEGER FOREIGN KEY (<code>id_elemento</code>) REFERENCES <code>Elemento(id_elemento)</code> <code>nome</code> VARCHAR NOT NULL <code>nivel</code> INTEGER NOT NULL <code>xp_acumulado</code> INTEGER NOT NULL <code>hp_max</code> INTEGER NOT NULL <code>magia_max</code> INTEGER NOT NULL <code>velocidade</code> INTEGER NOT NULL <code>ataque_fisico_base</code> INTEGER NOT NULL <code>ataque_magico_base</code> INTEGER NOT NULL <code>dinheiro</code> INTEGER NOT NULL <code>fala_inicio</code> VARCHAR"},{"location":"modulo01/dicionario/#tabela-grupo_inimigo","title":"Tabela: Grupo_inimigo","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_grupo</code> SERIAL PRIMARY KEY <code>id_sala</code> INTEGER FOREIGN KEY (<code>id_sala</code>) REFERENCES <code>Sala(id_sala)</code>"},{"location":"modulo01/dicionario/#tabela-instancia_inimigo","title":"Tabela: Instancia_Inimigo","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_instancia</code> SERIAL PRIMARY KEY <code>id_inimigo</code> INTEGER FOREIGN KEY (<code>id_inimigo</code>) REFERENCES <code>Inimigo(id_inimigo)</code> <code>id_grupo</code> INTEGER FOREIGN KEY (<code>id_grupo</code>) REFERENCES <code>Grupo_inimigo(id_grupo)</code> <code>hp_atual</code> INTEGER NOT NULL <code>magia_atual</code> INTEGER NOT NULL <code>defesa_fisica_bonus</code> INTEGER <code>defesa_magica_bonus</code> INTEGER"},{"location":"modulo01/dicionario/#tabela-inventario","title":"Tabela: Inventario","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_player</code> INTEGER PRIMARY KEY, FOREIGN KEY (<code>id_player</code>) REFERENCES <code>Player(id_player)</code> <code>dinheiro</code> INTEGER NOT NULL"},{"location":"modulo01/dicionario/#tabela-armadura_instancia","title":"Tabela: Armadura_Instancia","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_armadura</code> INTEGER FOREIGN KEY (<code>id_armadura</code>, <code>id_parte_corpo_armadura</code>) REFERENCES <code>Armadura(id_armadura, id_parte_corpo)</code> <code>id_parte_corpo_armadura</code> enum_parte_corpo FOREIGN KEY (<code>id_armadura</code>, <code>id_parte_corpo_armadura</code>) REFERENCES <code>Armadura(id_armadura, id_parte_corpo)</code> <code>id_instancia</code> SERIAL PRIMARY KEY <code>id_inventario</code> INTEGER FOREIGN KEY (<code>id_inventario</code>) REFERENCES <code>Inventario(id_player)</code> <code>raridade_armadura</code> INTEGER NOT NULL <code>defesa_magica</code> INTEGER NOT NULL <code>defesa_fisica</code> INTEGER NOT NULL <code>ataque_magico</code> INTEGER NOT NULL <code>ataque_fisico</code> INTEGER NOT NULL <code>durabilidade_max</code> INTEGER NOT NULL <code>preco_venda</code> INTEGER NOT NULL"},{"location":"modulo01/dicionario/#tabela-item_a_venda","title":"Tabela: Item_a_venda","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_item</code> INTEGER PRIMARY KEY <code>preco_compra</code> INTEGER NOT NULL <code>level_minimo</code> INTEGER NOT NULL"},{"location":"modulo01/dicionario/#tabela-party","title":"Tabela: Party","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_player</code> INTEGER PRIMARY KEY <code>id_sala</code> INTEGER NOT NULL"},{"location":"modulo01/dicionario/#tabela-instancia_cavaleiro","title":"Tabela: Instancia_Cavaleiro","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_instancia_cavaleiro</code> SERIAL PRIMARY KEY <code>id_cavaleiro</code> INTEGER FOREIGN KEY (<code>id_cavaleiro</code>) REFERENCES <code>Cavaleiro(id_cavaleiro)</code> <code>id_party</code> INTEGER FOREIGN KEY (<code>id_party</code>) REFERENCES <code>Party(id_player)</code> <code>nivel</code> INTEGER NOT NULL <code>xp_atual</code> INTEGER NOT NULL <code>hp_max</code> INTEGER NOT NULL <code>magia_max</code> INTEGER NOT NULL <code>hp_atual</code> INTEGER NOT NULL <code>magia_atual</code> INTEGER NOT NULL <code>velocidade</code> INTEGER NOT NULL <code>ataque_fisico</code> INTEGER NOT NULL <code>ataque_magico</code> INTEGER NOT NULL"},{"location":"modulo01/dicionario/#tabela-elemento","title":"Tabela: Elemento","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_elemento</code> SERIAL PRIMARY KEY <code>nome</code> VARCHAR UNIQUE, NOT NULL <code>descricao</code> VARCHAR <code>fraco_contra</code> INTEGER (Poss\u00edvel chave estrangeira) <code>forte_contra</code> INTEGER (Poss\u00edvel chave estrangeira)"},{"location":"modulo01/dicionario/#tabela-progresso_player","title":"Tabela: Progresso_Player","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_player</code> INTEGER FOREIGN KEY (<code>id_player</code>) REFERENCES <code>Player(id_player)</code> <code>id_boss</code> INTEGER FOREIGN KEY (<code>id_boss</code>) REFERENCES <code>Boss(id_boss)</code> <code>id_cavaleiro</code> INTEGER FOREIGN KEY (<code>id_cavaleiro</code>) REFERENCES <code>Cavaleiro(id_cavaleiro)</code> <code>status_derrotado</code> BOOLEAN NOT NULL"},{"location":"modulo01/dicionario/#tabela-receita","title":"Tabela: Receita","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_item_gerado</code> INTEGER PRIMARY KEY <code>descricao</code> VARCHAR"},{"location":"modulo01/dicionario/#tabela-player_missao","title":"Tabela: Player_Missao","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_player</code> INTEGER FOREIGN KEY (<code>id_player</code>) REFERENCES <code>Player(id_player)</code> <code>id_missao</code> INTEGER FOREIGN KEY (<code>id_missao</code>) REFERENCES <code>Missao(id_missao)</code> <code>status_missao</code> enum_status_missao NOT NULL"},{"location":"modulo01/dicionario/#tabela-xp_necessaria","title":"Tabela: Xp_Necessaria","text":"Atributo Tipo Restri\u00e7\u00f5es <code>nivel</code> INTEGER PRIMARY KEY <code>xp_necessaria</code> INTEGER NOT NULL"},{"location":"modulo01/dicionario/#tabela-material_receita","title":"Tabela: Material_Receita","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_receita</code> INTEGER FOREIGN KEY (<code>id_receita</code>) REFERENCES <code>Receita(id_item_gerado)</code> <code>id_material</code> INTEGER FOREIGN KEY (<code>id_material</code>) REFERENCES <code>Material(id_material)</code> <code>quantidade</code> INTEGER NOT NULL"},{"location":"modulo01/dicionario/#tabela-habilidade_player","title":"Tabela: Habilidade_Player","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_player</code> INTEGER FOREIGN KEY (<code>id_player</code>) REFERENCES <code>Player(id_player)</code> <code>id_habilidade</code> INTEGER FOREIGN KEY (<code>id_habilidade</code>) REFERENCES <code>Habilidade(id_habilidade)</code> <code>slot</code> INTEGER NOT NULL"},{"location":"modulo01/dicionario/#tabela-habilidade_cavaleiro","title":"Tabela: Habilidade_Cavaleiro","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_cavaleiro</code> INTEGER FOREIGN KEY (<code>id_cavaleiro</code>) REFERENCES <code>Cavaleiro(id_cavaleiro)</code> <code>id_habilidade</code> INTEGER FOREIGN KEY (<code>id_habilidade</code>) REFERENCES <code>Habilidade(id_habilidade)</code> <code>slot</code> INTEGER NOT NULL"},{"location":"modulo01/dicionario/#tabela-habilidade_boss","title":"Tabela: Habilidade_Boss","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_boss</code> INTEGER FOREIGN KEY (<code>id_boss</code>) REFERENCES <code>Boss(id_boss)</code> <code>id_habilidade</code> INTEGER FOREIGN KEY (<code>id_habilidade</code>) REFERENCES <code>Habilidade(id_habilidade)</code>"},{"location":"modulo01/dicionario/#tabela-parte_corpo_boss","title":"Tabela: Parte_Corpo_Boss","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_boss</code> INTEGER FOREIGN KEY (<code>id_boss</code>) REFERENCES <code>Boss(id_boss)</code> <code>parte_corpo</code> enum_parte_corpo FOREIGN KEY (<code>parte_corpo</code>) REFERENCES <code>Parte_Corpo(id_parte_corpo)</code> <code>defesa_fisica</code> INTEGER NOT NULL <code>defesa_magica</code> INTEGER NOT NULL <code>chance_acerto_base</code> INTEGER NOT NULL <code>chance_acerto_critico</code> INTEGER NOT NULL"},{"location":"modulo01/dicionario/#tabela-parte_corpo_cavaleiro","title":"Tabela: Parte_Corpo_Cavaleiro","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_cavaleiro</code> INTEGER FOREIGN KEY (<code>id_cavaleiro</code>) REFERENCES <code>Cavaleiro(id_cavaleiro)</code> <code>parte_corpo</code> enum_parte_corpo FOREIGN KEY (<code>parte_corpo</code>) REFERENCES <code>Parte_Corpo(id_parte_corpo)</code> <code>id_instancia_cavaleiro</code> INTEGER FOREIGN KEY (<code>id_instancia_cavaleiro</code>) REFERENCES <code>Instancia_Cavaleiro(id_instancia_cavaleiro)</code> <code>defesa_fisica_bonus</code> INTEGER NOT NULL <code>defesa_magico_bonus</code> INTEGER NOT NULL <code>chance_acerto_base</code> INTEGER NOT NULL <code>chance_acerto_critico</code> INTEGER NOT NULL"},{"location":"modulo01/dicionario/#tabela-player","title":"Tabela: Player","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_player</code> SERIAL PRIMARY KEY <code>id_elemento</code> INTEGER FOREIGN KEY (<code>id_elemento</code>) REFERENCES <code>Elemento(id_elemento)</code> <code>nome</code> VARCHAR UNIQUE, NOT NULL <code>nivel</code> INTEGER NOT NULL <code>xp_acumulado</code> INTEGER NOT NULL <code>hp_max</code> INTEGER NOT NULL <code>magia_max</code> INTEGER NOT NULL <code>hp_atual</code> INTEGER NOT NULL <code>magia_atual</code> INTEGER NOT NULL <code>velocidade</code> INTEGER NOT NULL <code>ataque_fisico_base</code> INTEGER NOT NULL <code>ataque_magico_base</code> INTEGER NOT NULL <code>id_sala_safe</code> INTEGER NOT NULL"},{"location":"modulo01/dicionario/#tabela-parte_corpo_player","title":"Tabela: Parte_Corpo_Player","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_player</code> INTEGER FOREIGN KEY (<code>id_player</code>) REFERENCES <code>Player(id_player)</code> <code>parte_corpo</code> enum_parte_corpo FOREIGN KEY (<code>parte_corpo</code>) REFERENCES <code>Parte_Corpo(id_parte_corpo)</code> <code>armadura_equipada</code> INTEGER FOREIGN KEY (<code>armadura_equipada</code>) REFERENCES <code>Armadura(id_armadura)</code> <code>instancia_armadura_equipada</code> INTEGER FOREIGN KEY (<code>instancia_armadura_equipada</code>) REFERENCES <code>Armadura_Instancia(id_instancia)</code>"},{"location":"modulo01/dicionario/#tabela-elemento_boss","title":"Tabela: Elemento_Boss","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_elemento</code> INTEGER FOREIGN KEY (<code>id_elemento</code>) REFERENCES <code>Elemento(id_elemento)</code> <code>id_boss</code> INTEGER FOREIGN KEY (<code>id_boss</code>) REFERENCES <code>Boss(id_boss)</code>"},{"location":"modulo01/dicionario/#tabela-habilidade_inimigo","title":"Tabela: Habilidade_Inimigo","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_habilidade</code> INTEGER FOREIGN KEY (<code>id_habilidade</code>) REFERENCES <code>Habilidade(id_habilidade)</code> <code>id_player</code> INTEGER FOREIGN KEY (<code>id_player</code>) REFERENCES <code>Inimigo(id_inimigo)</code>"},{"location":"modulo01/dicionario/#tabela-item_armazenado","title":"Tabela: Item_Armazenado","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_inventario</code> INTEGER FOREIGN KEY (<code>id_inventario</code>) REFERENCES <code>Inventario(id_player)</code> <code>id_item</code> INTEGER FOREIGN KEY (<code>id_item</code>) REFERENCES <code>Tipo_Item(id_item)</code> <code>quantidade</code> INTEGER NOT NULL"},{"location":"modulo01/dicionario/#tabela-item_grupo_inimigo_dropa","title":"Tabela: Item_grupo_inimigo_dropa","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_item</code> INTEGER FOREIGN KEY (<code>id_item</code>) REFERENCES <code>Tipo_Item(id_item)</code> <code>id_grupo_inimigo</code> INTEGER FOREIGN KEY (<code>id_grupo_inimigo</code>) REFERENCES <code>Grupo_inimigo(id_grupo)</code> <code>quantidade</code> INTEGER NOT NULL"},{"location":"modulo01/dicionario/#tabela-classe","title":"Tabela: Classe","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_classe</code> SERIAL PRIMARY KEY <code>nome</code> VARCHAR UNIQUE, NOT NULL <code>descricao</code> VARCHAR"},{"location":"modulo01/dicionario/#tabela-habilidade","title":"Tabela: Habilidade","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_habilidade</code> SERIAL PRIMARY KEY <code>classe_habilidade</code> INTEGER FOREIGN KEY (<code>classe_habilidade</code>) REFERENCES <code>Classe(id_classe)</code> <code>elemento_habilidade</code> INTEGER FOREIGN KEY (<code>elemento_habilidade</code>) REFERENCES <code>Elemento(id_elemento)</code> <code>nome</code> VARCHAR <code>custo</code> INTEGER <code>descricao</code> VARCHAR <code>frase_uso</code> VARCHAR <code>nivel_necessario</code> INTEGER"},{"location":"modulo01/dicionario/#tabela-tipo_item","title":"Tabela: Tipo_Item","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_item</code> SERIAL PRIMARY KEY <code>tipo_item</code> enum_tipo_item NOT NULL"},{"location":"modulo01/dicionario/#tabela-armadura","title":"Tabela: Armadura","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_armadura</code> INTEGER PRIMARY KEY <code>id_parte_corpo</code> enum_parte_corpo FOREIGN KEY (<code>id_parte_corpo</code>) REFERENCES <code>Parte_Corpo(id_parte_corpo)</code> <code>nome</code> VARCHAR NOT NULL <code>raridade_armadura</code> VARCHAR NOT NULL <code>defesa_magica</code> INTEGER <code>defesa_fisica</code> INTEGER <code>ataque_magico</code> INTEGER <code>ataque_fisico</code> INTEGER <code>durabilidade_max</code> INTEGER <code>preco_venda</code> INTEGER <code>descricao</code> INTEGER"},{"location":"modulo01/dicionario/#tabela-material","title":"Tabela: Material","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_material</code> INTEGER PRIMARY KEY <code>nome</code> VARCHAR UNIQUE, NOT NULL <code>preco_venda</code> INTEGER NOT NULL <code>descricao</code> VARCHAR"},{"location":"modulo01/dicionario/#tabela-item_missao","title":"Tabela: Item_Missao","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_item</code> INTEGER PRIMARY KEY <code>nome</code> VARCHAR UNIQUE, NOT NULL <code>descricao</code> VARCHAR"},{"location":"modulo01/dicionario/#tabela-consumivel","title":"Tabela: Consumivel","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_item</code> INTEGER PRIMARY KEY <code>nome</code> VARCHAR UNIQUE, NOT NULL <code>descricao</code> VARCHAR <code>preco_venda</code> INTEGER NOT NULL <code>saude_restaurada</code> INTEGER <code>magia_restaurada</code> INTEGER <code>saude_maxima</code> INTEGER <code>magia_maxima</code> INTEGER"},{"location":"modulo01/dicionario/#tabela-livro","title":"Tabela: Livro","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_item</code> INTEGER PRIMARY KEY <code>id_habilidade</code> INTEGER FOREIGN KEY (<code>id_habilidade</code>) REFERENCES <code>Habilidade(id_habilidade)</code> <code>nome</code> VARCHAR UNIQUE, NOT NULL <code>descricao</code> VARCHAR <code>preco_venda</code> INTEGER NOT NULL"},{"location":"modulo01/dicionario/#tabela-missao","title":"Tabela: Missao","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_missao</code> SERIAL PRIMARY KEY <code>id_missao_anterior</code> INTEGER FOREIGN KEY (<code>id_missao_anterior</code>) REFERENCES <code>Missao(id_missao)</code> <code>item_necessario</code> INTEGER FOREIGN KEY (<code>item_necessario</code>) REFERENCES <code>Item_Missao(id_item)</code> <code>nome</code> INTEGER UNIQUE, NOT NULL <code>dialogo_inicial</code> VARCHAR <code>dialogo_durante</code> VARCHAR <code>dialogo_completa</code> VARCHAR"},{"location":"modulo01/dicionario/#tabela-santuario","title":"Tabela: Santuario","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_santuario</code> SERIAL PRIMARY KEY <code>id_missao_requisito</code> INTEGER FOREIGN KEY (<code>id_missao_requisito</code>) REFERENCES <code>Missao(id_missao)</code> <code>id_missao_proximo_santuario</code> INTEGER FOREIGN KEY (<code>id_missao_proximo_santuario</code>) REFERENCES <code>Missao(id_missao)</code> <code>nome</code> VARCHAR UNIQUE, NOT NULL <code>descricao</code> VARCHAR <code>nivel_recomendado</code> INTEGER NOT NULL"},{"location":"modulo01/dicionario/#tabela-casa","title":"Tabela: Casa","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_casa</code> SERIAL PRIMARY KEY <code>id_santuario</code> INTEGER FOREIGN KEY (<code>id_santuario</code>) REFERENCES <code>Santuario(id_santuario)</code> <code>id_missao_requisito</code> INTEGER FOREIGN KEY (<code>id_missao_requisito</code>) REFERENCES <code>Missao(id_missao)</code> <code>id_missao_proxima_casa</code> INTEGER FOREIGN KEY (<code>id_missao_proxima_casa</code>) REFERENCES <code>Missao(id_missao)</code> <code>nome</code> VARCHAR NOT NULL <code>descricao</code> VARCHAR <code>nivel_recomendado</code> INTEGER NOT NULL"},{"location":"modulo01/dicionario/#tabela-sala","title":"Tabela: Sala","text":"Atributo Tipo Restri\u00e7\u00f5es <code>id_sala</code> SERIAL PRIMARY KEY <code>id_casa</code> INTEGER FOREIGN KEY (<code>id_casa</code>) REFERENCES <code>Casa(id_casa)</code> <code>nome</code> VARCHAR NOT NULL <code>id_sala_norte</code> INTEGER (Possivelmente refer\u00eancia para outra sala) <code>id_sala_sul</code> INTEGER (Possivelmente refer\u00eancia para outra sala) <code>id_sala_leste</code> INTEGER (Possivelmente refer\u00eancia para outra sala) <code>id_sala_oeste</code> INTEGER (Possivelmente refer\u00eancia para outra sala)"},{"location":"modulo01/dicionario/#relacionamentos","title":"Relacionamentos","text":"<ul> <li>Instancia_Cavaleiro:</li> <li><code>id_cavaleiro</code> \u2192 <code>Cavaleiro(id_cavaleiro)</code></li> <li> <p><code>id_party</code> \u2192 <code>Party(id_player)</code></p> </li> <li> <p>Elemento:</p> </li> <li><code>fraco_contra</code> \u2192 <code>Elemento(id_elemento)</code></li> <li> <p><code>forte_contra</code> \u2192 <code>Elemento(id_elemento)</code></p> </li> <li> <p>Progresso_Player:</p> </li> <li><code>id_player</code> \u2192 <code>Player(id_player)</code></li> <li><code>id_boss</code> \u2192 <code>Boss(id_boss)</code></li> <li> <p><code>id_cavaleiro</code> \u2192 <code>Cavaleiro(id_cavaleiro)</code></p> </li> <li> <p>Receita:</p> </li> <li> <p>N/A</p> </li> <li> <p>Player_Missao:</p> </li> <li><code>id_player</code> \u2192 <code>Player(id_player)</code></li> <li> <p><code>id_missao</code> \u2192 <code>Missao(id_missao)</code></p> </li> <li> <p>Xp_Necessaria:</p> </li> <li> <p>N/A</p> </li> <li> <p>Material_Receita:</p> </li> <li><code>id_receita</code> \u2192 <code>Receita(id_item_gerado)</code></li> <li> <p><code>id_material</code> \u2192 <code>Material(id_material)</code></p> </li> <li> <p>Habilidade_Player:</p> </li> <li><code>id_player</code> \u2192 <code>Player(id_player)</code></li> <li> <p><code>id_habilidade</code> \u2192 <code>Habilidade(id_habilidade)</code></p> </li> <li> <p>Habilidade_Cavaleiro:</p> </li> <li><code>id_cavaleiro</code> \u2192 <code>Cavaleiro(id_cavaleiro)</code></li> <li> <p><code>id_habilidade</code> \u2192 <code>Habilidade(id_habilidade)</code></p> </li> <li> <p>Habilidade_Boss:</p> </li> <li><code>id_boss</code> \u2192 <code>Boss(id_boss)</code></li> <li> <p><code>id_habilidade</code> \u2192 <code>Habilidade(id_habilidade)</code></p> </li> <li> <p>Parte_Corpo_Boss:</p> </li> <li><code>id_boss</code> \u2192 <code>Boss(id_boss)</code></li> <li> <p><code>parte_corpo</code> \u2192 <code>Parte_Corpo(id_parte_corpo)</code></p> </li> <li> <p>Parte_Corpo_Cavaleiro:</p> </li> <li><code>id_cavaleiro</code> \u2192 <code>Cavaleiro(id_cavaleiro)</code></li> <li><code>parte_corpo</code> \u2192 <code>Parte_Corpo(id_parte_corpo)</code></li> <li> <p><code>id_instancia_cavaleiro</code> \u2192 <code>Instancia_Cavaleiro(id_instancia_cavaleiro)</code></p> </li> <li> <p>Player:</p> </li> <li> <p><code>id_elemento</code> \u2192 <code>Elemento(id_elemento)</code></p> </li> <li> <p>Parte_Corpo_Player:</p> </li> <li><code>id_player</code> \u2192 <code>Player(id_player)</code></li> <li><code>parte_corpo</code> \u2192 <code>Parte_Corpo(id_parte_corpo)</code></li> <li><code>armadura_equipada</code> \u2192 <code>Armadura(id_armadura)</code></li> <li> <p><code>instancia_armadura_equipada</code> \u2192 <code>Armadura_Instancia(id_instancia)</code></p> </li> <li> <p>Elemento_Boss:</p> </li> <li><code>id_elemento</code> \u2192 <code>Elemento(id_elemento)</code></li> <li> <p><code>id_boss</code> \u2192 <code>Boss(id_boss)</code></p> </li> <li> <p>Habilidade_Inimigo:</p> </li> <li><code>id_habilidade</code> \u2192 <code>Habilidade(id_habilidade)</code></li> <li> <p><code>id_player</code> \u2192 <code>Inimigo(id_inimigo)</code></p> </li> <li> <p>Item_Armazenado:</p> </li> <li><code>id_inventario</code> \u2192 <code>Inventario(id_player)</code></li> <li> <p><code>id_item</code> \u2192 <code>Tipo_Item(id_item)</code></p> </li> <li> <p>Item_grupo_inimigo_dropa:</p> </li> <li><code>id_item</code> \u2192 <code>Tipo_Item(id_item)</code></li> <li> <p><code>id_grupo_inimigo</code> \u2192 <code>Grupo_inimigo(id_grupo)</code></p> </li> <li> <p>Classe:</p> </li> <li> <p>N/A</p> </li> <li> <p>Habilidade:</p> </li> <li><code>classe_habilidade</code> \u2192 <code>Classe(id_classe)</code></li> <li> <p><code>elemento_habilidade</code> \u2192 <code>Elemento(id_elemento)</code></p> </li> <li> <p>Tipo_Item:</p> </li> <li> <p>N/A</p> </li> <li> <p>Armadura:</p> </li> <li> <p><code>id_parte_corpo</code> \u2192 <code>Parte_Corpo(id_parte_corpo)</code></p> </li> <li> <p>Material:</p> </li> <li> <p>N/A</p> </li> <li> <p>Item_Missao:</p> </li> <li> <p>N/A</p> </li> <li> <p>Consumivel:</p> </li> <li> <p>N/A</p> </li> <li> <p>Livro:</p> </li> <li> <p><code>id_habilidade</code> \u2192 <code>Habilidade(id_habilidade)</code></p> </li> <li> <p>Missao:</p> </li> <li><code>id_missao_anterior</code> \u2192 <code>Missao(id_missao)</code></li> <li> <p><code>item_necessario</code> \u2192 <code>Item_Missao(id_item)</code></p> </li> <li> <p>Santuario:</p> </li> <li><code>id_missao_requisito</code> \u2192 <code>Missao(id_missao)</code></li> <li> <p><code>id_missao_proximo_santuario</code> \u2192 <code>Missao(id_missao)</code></p> </li> <li> <p>Casa:</p> </li> <li><code>id_santuario</code> \u2192 <code>Santuario(id_santuario)</code></li> <li><code>id_missao_requisito</code> \u2192 <code>Missao(id_missao)</code></li> <li> <p><code>id_missao_proxima_casa</code> \u2192 <code>Missao(id_missao)</code></p> </li> <li> <p>Sala:</p> </li> <li> <p><code>id_casa</code> \u2192 <code>Casa(id_casa)</code></p> </li> <li> <p>Npc_Ferreiro:</p> </li> <li><code>id_sala</code> \u2192 <code>Sala(id_sala)</code></li> <li> <p><code>id_missao_desbloqueia</code> \u2192 <code>Missao(id_missao)</code></p> </li> <li> <p>Npc_Quest:</p> </li> <li> <p><code>id_sala</code> \u2192 <code>Sala(id_sala)</code></p> </li> <li> <p>Npc_Mercador:</p> </li> <li> <p><code>id_sala</code> \u2192 <code>Sala(id_sala)</code></p> </li> <li> <p>Inimigo:</p> </li> <li><code>id_elemento</code> \u2192 <code>Elemento(id_elemento)</code></li> <li> <p><code>id_classe</code> \u2192 <code>Classe(id_classe)</code></p> </li> <li> <p>Instancia_Inimigo:</p> </li> <li><code>id_inimigo</code> \u2192 <code>Inimigo(id_inimigo)</code></li> <li> <p><code>id_grupo</code> \u2192 <code>Grupo_inimigo(id_grupo)</code></p> </li> <li> <p>Grupo_inimigo:</p> </li> <li> <p><code>id_sala</code> \u2192 <code>Sala(id_sala)</code></p> </li> <li> <p>Inventario:</p> </li> <li> <p><code>id_player</code> \u2192 <code>Player(id_player)</code></p> </li> <li> <p>Armadura_Instancia:</p> </li> <li><code>id_armadura</code>, <code>id_parte_corpo_armadura</code> \u2192 <code>Armadura(id_armadura, id_parte_corpo)</code></li> <li> <p><code>id_inventario</code> \u2192 <code>Inventario(id_player)</code></p> </li> <li> <p>Item_a_venda:</p> </li> <li> <p><code>id_item</code> \u2192 <code>Tipo_Item(id_item)</code></p> </li> <li> <p>Party:</p> </li> <li><code>id_sala</code> \u2192 <code>Sala(id_sala)</code></li> </ul>"},{"location":"modulo01/dicionario/#tipo-tipo_item","title":"Tipo: tipo_item","text":"<p>Representa os tipos de itens no sistema.</p> Valor Significado <code>a</code> armadura <code>m</code> material <code>i</code> item_missao <code>c</code> consumivel <code>l</code> livro"},{"location":"modulo01/dicionario/#tipo-parte_corpo","title":"Tipo: parte_corpo","text":"<p>Representa as partes do corpo.</p> Valor Significado <code>c</code> cabe\u00e7a <code>t</code> tronco <code>b</code> bra\u00e7os <code>p</code> pernas"},{"location":"modulo01/dicionario/#tipo-enum_tipo_item","title":"Tipo: enum_tipo_item","text":"<p>Representa os tipos de itens no sistema.</p> Valor Significado <code>a</code> armadura <code>m</code> material <code>i</code> item_missao <code>c</code> consumivel <code>l</code> livro"},{"location":"modulo01/dicionario/#tipo-enum_parte_corpo","title":"Tipo: enum_parte_corpo","text":"<p>Representa as partes do corpo.</p> Valor Significado <code>c</code> cabe\u00e7a <code>t</code> tronco <code>b</code> bra\u00e7os <code>p</code> pernas"},{"location":"modulo01/mer/","title":"Modelo Entidade Relacionamento","text":""},{"location":"modulo01/mer/#modelo-entidade-relacionamento-mer","title":"Modelo Entidade-Relacionamento (MER)","text":"<p>O Modelo Entidade-Relacionamento (MER) \u00e9 uma descri\u00e7\u00e3o textual das entidades e relacionamentos que comp\u00f5em a estrutura de um banco de dados. Diferentemente do DER, o MER apresenta as informa\u00e7\u00f5es de forma textual, facilitando a compreens\u00e3o e detalhamento dos componentes.</p>"},{"location":"modulo01/mer/#tabelas-e-atributos","title":"Tabelas e Atributos","text":""},{"location":"modulo01/mer/#personagem","title":"Personagem","text":"<ul> <li>id_personagem</li> <li>nome</li> </ul>"},{"location":"modulo01/mer/#player","title":"Player","text":"<ul> <li>id_personagem</li> </ul>"},{"location":"modulo01/mer/#npc-quest","title":"NPC Quest","text":"<ul> <li>id_personagem</li> <li>dialogo_inicial</li> <li>dialogo_recusa</li> </ul>"},{"location":"modulo01/mer/#npc-mercado","title":"NPC Mercado","text":"<ul> <li>id_personagem</li> <li>dialogo_inicial</li> <li>dialogo_vender</li> <li>dialogo_comprar</li> <li>dialogo_sair</li> </ul>"},{"location":"modulo01/mer/#party","title":"Party","text":"<ul> <li>id_player</li> <li>id_sala</li> </ul>"},{"location":"modulo01/mer/#inventario","title":"Invent\u00e1rio","text":"<ul> <li>id_player</li> <li>dinheiro</li> </ul>"},{"location":"modulo01/mer/#progresso-jogador","title":"Progresso Jogador","text":"<ul> <li>id_player</li> <li>id_boss</li> <li>status_derrotado</li> <li>cavaleiro_desbloqueado</li> </ul>"},{"location":"modulo01/mer/#personagem-luta","title":"Personagem Luta","text":"<ul> <li>id_personagem</li> <li>nivel</li> <li>hp_max</li> <li>hp_atual</li> <li>magia_max</li> <li>magia_atual</li> <li>velocidade</li> </ul>"},{"location":"modulo01/mer/#cavaleiro","title":"Cavaleiro","text":"<ul> <li>id_personagem</li> <li>desbloqueado</li> <li>classe</li> </ul>"},{"location":"modulo01/mer/#inimigo","title":"Inimigo","text":"<ul> <li>id_personagem</li> <li>dinheiro</li> <li>fala_inicio</li> </ul>"},{"location":"modulo01/mer/#boss","title":"Boss","text":"<ul> <li>id_personagem</li> <li>dinheiro</li> <li>fala_inicio</li> <li>fala_derrota</li> </ul>"},{"location":"modulo01/mer/#sala","title":"Sala","text":"<ul> <li>id_sala</li> <li>nome</li> <li>sala_norte</li> <li>sala_sul</li> <li>sala_leste</li> <li>sala_oeste</li> </ul>"},{"location":"modulo01/mer/#santuario","title":"Santu\u00e1rio","text":"<ul> <li>id_santuario</li> <li>nome</li> <li>descricao</li> <li>id_pre_req_missao</li> </ul>"},{"location":"modulo01/mer/#grupo-inimigo","title":"Grupo Inimigo","text":"<ul> <li>id_grupo_inimigo</li> <li>id_sala</li> </ul>"},{"location":"modulo01/mer/#missao","title":"Miss\u00e3o","text":"<ul> <li>id_missao</li> <li>nome</li> <li>item_necessario</li> <li>dialogo_inicial</li> <li>dialogo_durante</li> <li>dialogo_completa</li> </ul>"},{"location":"modulo01/mer/#missao-jogador","title":"Miss\u00e3o Jogador","text":"<ul> <li>id_missao</li> <li>id_jogador</li> </ul>"},{"location":"modulo01/mer/#item","title":"Item","text":"<ul> <li>id_item</li> <li>nome</li> <li>tipo_item</li> <li>preco_compra</li> <li>preco_venda</li> </ul>"},{"location":"modulo01/mer/#armadura","title":"Armadura","text":"<ul> <li>id_item</li> <li>defesa_magica</li> <li>defesa_fisica</li> <li>ataque_magico</li> <li>ataque_fisico</li> <li>durabilidade_max</li> <li>parte_corpo</li> </ul>"},{"location":"modulo01/mer/#material","title":"Material","text":"<ul> <li>id_item</li> </ul>"},{"location":"modulo01/mer/#consumivel","title":"Consum\u00edvel","text":"<ul> <li>id_item</li> <li>saude</li> <li>magia</li> <li>saude_maxima</li> <li>magia_maxima</li> <li>quantidade</li> </ul>"},{"location":"modulo01/mer/#livro","title":"Livro","text":"<ul> <li>id_item</li> </ul>"},{"location":"modulo01/mer/#item-instanciado","title":"Item Instanciado","text":"<ul> <li>id_nivel</li> <li>durabilidade_atual</li> </ul>"},{"location":"modulo01/mer/#receita","title":"Receita","text":"<ul> <li>id_receita</li> <li>material_necessario</li> </ul>"},{"location":"modulo01/mer/#habilidade","title":"Habilidade","text":"<ul> <li>id_habilidade</li> <li>classe</li> <li>tipo_habilidade</li> <li>frase_uso</li> <li>descricao</li> <li>nome</li> <li>valor</li> </ul>"},{"location":"modulo01/mer/#elemento","title":"Elemento","text":"<ul> <li>id_elemento</li> <li>nome</li> <li>fraco_contra</li> <li>forte_contra</li> </ul>"},{"location":"modulo01/mer/#parte-do-corpo","title":"Parte do Corpo","text":"<ul> <li>id_parte</li> <li>tipo_parte</li> <li>defesa</li> <li>prob_acerto</li> <li>chance_critico</li> </ul>"},{"location":"modulo01/mer/#relacionamentos","title":"Relacionamentos","text":""},{"location":"modulo01/mer/#item-instanciado-aponta-para-item","title":"Item Instanciado aponta para Item","text":"<ul> <li>Um Item Instanciado aponta para um Item.</li> <li>Um Item \u00e9 apontado por N Itens Instanciados.</li> </ul>"},{"location":"modulo01/mer/#parte-do-corpo-equipa-armadura","title":"Parte do Corpo equipa Armadura","text":"<ul> <li>Uma Parte do Corpo equipa uma Armadura.</li> <li>Uma Armadura \u00e9 equipada por N Partes do Corpo.</li> </ul>"},{"location":"modulo01/mer/#personagem-luta-possui-elemento","title":"Personagem Luta possui Elemento","text":"<ul> <li>Um Personagem Luta possui de 0 a N Elementos.</li> <li>Um Elemento \u00e9 possu\u00eddo por 0 a N Personagens Luta.</li> </ul>"},{"location":"modulo01/mer/#personagem-luta-utiliza-habilidade","title":"Personagem Luta utiliza Habilidade","text":"<ul> <li>Um Personagem Luta utiliza de 0 a N Habilidades.</li> <li>Uma Habilidade \u00e9 utilizada por 0 a N Personagens Luta.</li> </ul>"},{"location":"modulo01/mer/#player-esta-em-party","title":"Player est\u00e1 em Party","text":"<ul> <li>Um Player est\u00e1 em uma Party.</li> <li>Uma Party est\u00e1 com um Player.</li> </ul>"},{"location":"modulo01/mer/#cavaleiro-participa-de-party","title":"Cavaleiro participa de Party","text":"<ul> <li>Um Cavaleiro participa de uma Party.</li> <li>Uma Party \u00e9 participada por 0 a N Cavaleiros.</li> </ul>"},{"location":"modulo01/mer/#progresso-do-jogador-desbloqueia-cavaleiro","title":"Progresso do Jogador desbloqueia Cavaleiro","text":"<ul> <li>Um Progresso do Jogador desbloqueia de 0 a 1 Cavaleiro.</li> <li>Um Cavaleiro \u00e9 desbloqueado por um Progresso do Jogador.</li> </ul>"},{"location":"modulo01/mer/#player-avanca-progresso-jogador","title":"Player avan\u00e7a Progresso Jogador","text":"<ul> <li>Um Player avan\u00e7a 0 a N Progresso Jogador.</li> <li>Um Progresso Jogador \u00e9 avan\u00e7ado por um Player.</li> </ul>"},{"location":"modulo01/mer/#progresso-jogador-derrota-boss","title":"Progresso Jogador derrota Boss","text":"<ul> <li>Um Progresso Jogador derrota um Boss.</li> <li>Um Boss \u00e9 derrotado por um Progresso Jogador.</li> </ul>"},{"location":"modulo01/mer/#player-possui-inventario","title":"Player possui Invent\u00e1rio","text":"<ul> <li>Um Player possui um Invent\u00e1rio.</li> <li>Um Invent\u00e1rio \u00e9 possu\u00eddo por um Player.</li> </ul>"},{"location":"modulo01/mer/#inventario-armazena-item-instanciado","title":"Invent\u00e1rio armazena Item Instanciado","text":"<ul> <li>Um Invent\u00e1rio armazena de 0 a N Itens Instanciados.</li> <li>Um Item Instanciado \u00e9 armazenado por 0 a 1 Invent\u00e1rio.</li> </ul>"},{"location":"modulo01/mer/#inimigo-participa-de-grupo-inimigo","title":"Inimigo participa de Grupo Inimigo","text":"<ul> <li>Um Inimigo participa de 0 a N Grupos de Inimigos.</li> <li>Um Grupo Inimigo \u00e9 participado por pelo menos 1 Inimigo.</li> </ul>"},{"location":"modulo01/mer/#boss-dropa-item-instanciado","title":"Boss dropa Item Instanciado","text":"<ul> <li>Um Boss dropa de 1 a N Itens Instanciados.</li> <li>Um Item Instanciado \u00e9 dropado por um Boss.</li> </ul>"},{"location":"modulo01/mer/#santuario-contem-salas","title":"Santu\u00e1rio cont\u00e9m Salas","text":"<ul> <li>Um Santu\u00e1rio cont\u00e9m de 1 a N Salas.</li> <li>Uma Sala \u00e9 contida por um Santu\u00e1rio.</li> </ul>"},{"location":"modulo01/mer/#party-esta-na-sala","title":"Party est\u00e1 na Sala","text":"<ul> <li>Uma Party est\u00e1 em uma Sala.</li> <li>Em uma Sala est\u00e1 de 0 a 1 Party.</li> </ul>"},{"location":"modulo01/mer/#grupo-inimigo-esta-na-sala","title":"Grupo Inimigo est\u00e1 na Sala","text":"<ul> <li>Um Grupo Inimigo est\u00e1 em uma Sala.</li> <li>Em uma Sala est\u00e1 de 0 a N Grupos de Inimigos.</li> </ul>"},{"location":"modulo01/mer/#livro-ensina-uma-habilidade","title":"Livro ensina uma Habilidade","text":"<ul> <li>Um Livro ensina uma Habilidade.</li> <li>Uma Habilidade \u00e9 ensinada por um Livro.</li> </ul>"},{"location":"modulo01/mer/#player-aceita-missao-jogador","title":"Player aceita Miss\u00e3o Jogador","text":"<ul> <li>Um Player aceita de 0 a N Miss\u00f5es Jogadores.</li> <li>Uma Miss\u00e3o Jogador \u00e9 aceita por um Player.</li> </ul>"},{"location":"modulo01/mer/#npc-mercado-vende-item-instanciado","title":"NPC Mercado vende Item Instanciado","text":"<ul> <li>Um NPC Mercado vende de 0 a N Itens Instanciados.</li> <li>Um Item Instanciado \u00e9 vendido por um NPC Mercado.</li> </ul>"},{"location":"modulo01/mer/#grupo-inimigo-dropa-item-instanciado","title":"Grupo Inimigo dropa Item Instanciado","text":"<ul> <li>Um Grupo Inimigo dropa de 0 a N Itens Instanciados.</li> <li>Um Item Instanciado \u00e9 dropado por um Grupo Inimigo.</li> </ul>"},{"location":"modulo01/mer/#sala-origem-viaja-para-uma-sala-destino","title":"Sala Origem viaja para uma Sala Destino","text":"<ul> <li>Uma Sala Origem viaja para uma Sala Destino.</li> </ul>"},{"location":"modulo01/mer/#material-gera-armadura","title":"Material gera Armadura","text":"<ul> <li>Um Material gera 0 ou 1 Armadura.</li> <li>Uma Armadura pode ser gerada por 0 a N Materiais.</li> </ul>"},{"location":"modulo01/mer/#receita-gera-armadura","title":"Receita gera Armadura","text":"<ul> <li>Uma Receita gera 0 a N Armaduras.</li> <li>Uma Armadura \u00e9 gerada por 0 ou 1 Receita.</li> </ul>"},{"location":"modulo01/mer/#historico-de-versao","title":"Hist\u00f3rico de vers\u00e3o","text":"Data Descri\u00e7\u00e3o Autor 25/11/2024 Vers\u00e3o inicial do Modelo Entidade Relacionamento Lucas Ramon"},{"location":"modulo01/ml/","title":"Modelo L\u00f3gico","text":""},{"location":"modulo01/ml/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Segundo Elmasri e Navathe \u00b9, a modelagem conceitual \u00e9 uma fase muito importante no projeto de uma aplica\u00e7\u00e3o de banco de dados bem-sucedida.</p>"},{"location":"modulo01/ml/#objetivo","title":"Objetivo","text":"<p>Apresentar o Modelo L\u00f3gico confeccionado a partir do Diagrama Entidade Relacionamento (DER) utilizando as 7 Etapas descritas por Elmasri e Navathe \u00b9. Com isso \u00e9 facilitado o entendimento dos componentes que ir\u00e3o estar no banco de dados do projeto.</p>"},{"location":"modulo01/ml/#modelo-logico","title":"Modelo L\u00f3gico","text":"<p>A figura 1 a seguir mostra a primeira vers\u00e3o do Modelo L\u00f3gico desenvolvido pelo grupo:</p> <p> <p>Figura 1 - Primeira vers\u00e3o do Modelo L\u00f3gico</p> <p> Fonte: Pedro Lucas </p> <p></p> <p> <p>Figura 2 - Modelo L\u00f3gico Vers\u00e3o 1.1</p> <p> Fonte: Pedro Lucas </p> <p></p> <p> <p>Figura 3 - Modelo L\u00f3gico Vers\u00e3o 2.0</p> <p> Fonte: Pedro Lucas </p> <p></p>"},{"location":"modulo01/ml/#referencia-bibliografica","title":"Refer\u00eancia Bibliogr\u00e1fica","text":"<p>[1] ELMASRI, Ramez; NAVATHE, Shamkant B. Sistemas de banco de dados. Tradu\u00e7\u00e3o: Daniel Vieira. Revis\u00e3o t\u00e9cnica: Enzo Seraphim; Thatyana de Faria Piola Seraphim. 6. ed. S\u00e3o Paulo: Pearson Addison Wesley, 2011. Cap\u00edtulo 7. Modelagem de dados usando o modelo Entidade-Relacionamento (ER), p\u00e1ginas 189-200.</p>"},{"location":"modulo01/ml/#bibliografia","title":"Bibliografia","text":"<p>Diagrama Entidade Relacionamento Stardew Valley. Dispon\u00edvel em: https://github.com/SBD1/2023.2-Grupo01-StardewValley/blob/main/docs/Entrega-01/DER_StardewValley_v1.0.md. Acesso em 24 de novembro de 2024.</p> <p>Diagrama Entidade Relacionamento Fear and Hunger. Dispon\u00edvel em: https://github.com/SBD1/2023.2_Fear_and_Hunger/blob/main/docs/modulo_01/assets/DERv/DERv2.3.png. Acesso em 24 de novembro de 2024.</p>"},{"location":"modulo01/ml/#historico-de-versao","title":"Hist\u00f3rico de vers\u00e3o","text":"Data Descri\u00e7\u00e3o Autor 24/11/2024 Vers\u00e3o inicial do Modelo L\u00f3gico Pedro Lucas 12/01/2024 Vers\u00e3o 2.0 do ML Pedro Lucas"},{"location":"modulo02/DDL/","title":"Data Definition Language","text":""},{"location":"modulo02/DDL/#ddl","title":"DDL","text":""},{"location":"modulo02/DDL/#versionamento","title":"Versionamento","text":"Vers\u00e3o Data Modifica\u00e7\u00e3o Autor 0.1 13/01/2025 Cria\u00e7\u00e3o do Documento Vin\u00edcius Rufino <pre><code>CREATE TABLE IF NOT EXISTS Elemento (\n    id_elemento SERIAL PRIMARY KEY,\n    nome VARCHAR UNIQUE NOT NULL,\n    descricao VARCHAR,\n    fraco_contra INTEGER,\n    forte_contra INTEGER\n);\n\nCREATE TABLE Player (\n    id_player SERIAL PRIMARY KEY,\n    id_elemento INTEGER,\n    nome VARCHAR UNIQUE NOT NULL,\n    nivel INTEGER NOT NULL,\n    xp_acumulado INTEGER NOT NULL,\n    hp_max INTEGER NOT NULL,\n    magia_max INTEGER NOT NULL,\n    hp_atual INTEGER NOT NULL,\n    magia_atual INTEGER NOT NULL,\n    velocidade INTEGER NOT NULL,\n    ataque_fisico_base INTEGER NOT NULL,\n    ataque_magico_base INTEGER NOT NULL,\n    id_sala_safe INTEGER NOT NULL\n);\n\nALTER TABLE Player ADD CONSTRAINT FK_Player_2\n    FOREIGN KEY (id_elemento)\n    REFERENCES Elemento (id_elemento);\n\nCREATE TABLE Classe (\n    id_classe SERIAL PRIMARY KEY,\n    nome VARCHAR UNIQUE NOT NULL,\n    descricao VARCHAR\n);\n\nCREATE TABLE Habilidade (\n    id_habilidade SERIAL PRIMARY KEY,\n    classe_habilidade INTEGER,\n    elemento_habilidade INTEGER,\n    nome VARCHAR,\n    custo INTEGER,\n    descricao VARCHAR,\n    frase_uso VARCHAR,\n    nivel_necessario INTEGER\n);\n\nALTER TABLE Habilidade ADD CONSTRAINT FK_Habilidade_2\n    FOREIGN KEY (elemento_habilidade)\n    REFERENCES Elemento (id_elemento);\n\nALTER TABLE Habilidade ADD CONSTRAINT FK_Habilidade_3\n    FOREIGN KEY (classe_habilidade)\n    REFERENCES Classe (id_classe);\n\nCREATE TYPE tipo_item as ENUM ('a', 'm', 'i', 'c', 'l'); /* a = armadura, m = material, i = item_missao, c = consumivel, l = livro */\nCREATE TYPE parte_corpo as ENUM ('c', 't', 'b', 'p'); /* c = cabe\u00e7a, t = tronco, b = bra\u00e7os, p = pernas */\n\nDROP TYPE parte_corpo;\nDROP TYPE tipo_item;\n\nCREATE TYPE enum_tipo_item as ENUM ('a', 'm', 'i', 'c', 'l'); /* a = armadura, m = material, i = item_missao, c = consumivel, l = livro */\nCREATE TYPE enum_parte_corpo as ENUM ('c', 't', 'b', 'p'); /* c = cabe\u00e7a, t = tronco, b = bra\u00e7os, p = pernas */\n\nCREATE TABLE Parte_Corpo (\n    id_parte_corpo enum_parte_corpo PRIMARY KEY,\n    nome VARCHAR UNIQUE NOT NULL,\n    defesa_magica INTEGER NOT NULL,\n    defesa_fisica INTEGER NOT NULL,\n    chance_acerto INTEGER NOT NULL,\n    chance_acerto_critico INTEGER NOT NULL\n);\n\nCREATE TABLE Tipo_Item (\n    id_item SERIAL PRIMARY KEY,\n    tipo_item INTEGER NOT NULL\n);\n\nCREATE TABLE Armadura (\n    id_armadura INTEGER,\n    id_parte_corpo enum_parte_corpo,\n    nome VARCHAR NOT NULL,\n    raridade_armadura VARCHAR NOT NULL,\n    defesa_magica INTEGER,\n    defesa_fisica INTEGER,\n    ataque_magico INTEGER,\n    ataque_fisico INTEGER,\n    durabilidade_max INTEGER,\n    preco_venda INTEGER,\n    descricao INTEGER,\n    PRIMARY KEY (id_armadura, id_parte_corpo)\n);\n\nCREATE TABLE Material (\n    id_material INTEGER PRIMARY KEY,\n    nome VARCHAR UNIQUE NOT NULL,\n    preco_venda INTEGER NOT NULL,\n    descricao VARCHAR\n);\n\nCREATE TABLE Item_Missao (\n    id_item INTEGER PRIMARY KEY,\n    nome VARCHAR UNIQUE NOT NULL,\n    descricao VARCHAR\n);\n\nCREATE TABLE Consumivel (\n    id_item INTEGER PRIMARY KEY,\n    nome VARCHAR UNIQUE NOT NULL,\n    descricao VARCHAR,\n    preco_venda INTEGER NOT NULL,\n    saude_restaurada INTEGER,\n    magia_restaurada INTEGER,\n    saude_maxima INTEGER,\n    magia_maxima INTEGER\n);\n\nCREATE TABLE Livro (\n    id_item INTEGER PRIMARY KEY,\n    id_habilidade INTEGER,\n    nome VARCHAR UNIQUE NOT NULL,\n    descricao VARCHAR,\n    preco_venda INTEGER NOT NULL\n);\n\nALTER TABLE Armadura ADD CONSTRAINT FK_Armadura_2\n    FOREIGN KEY (id_armadura)\n    REFERENCES Tipo_Item (id_item);\n\nALTER TABLE Armadura ADD CONSTRAINT FK_Armadura_3\n    FOREIGN KEY (id_parte_corpo)\n    REFERENCES Parte_Corpo (id_parte_corpo);\n\nALTER TABLE Material ADD CONSTRAINT FK_Material_2\n    FOREIGN KEY (id_material)\n    REFERENCES Tipo_Item (id_item);\n\nALTER TABLE Item_Missao ADD CONSTRAINT FK_Item_Missao_2\n    FOREIGN KEY (id_item)\n    REFERENCES Tipo_Item (id_item);\n\nALTER TABLE Livro ADD CONSTRAINT FK_Livro_2\n    FOREIGN KEY (id_item)\n    REFERENCES Tipo_Item (id_item);\n\nALTER TABLE Livro ADD CONSTRAINT FK_Livro_3\n    FOREIGN KEY (id_habilidade)\n    REFERENCES Habilidade (id_habilidade);\n\nALTER TABLE Consumivel ADD CONSTRAINT FK_Consumivel_2\n    FOREIGN KEY (id_item)\n    REFERENCES Tipo_Item (id_item);\n\nCREATE TABLE Missao (\n    id_missao SERIAL PRIMARY KEY,\n    id_missao_anterior INTEGER,\n    item_necessario INTEGER NOT NULL,\n    nome INTEGER UNIQUE NOT NULL,\n    dialogo_inicial VARCHAR,\n    dialogo_durante VARCHAR,\n    dialogo_completa VARCHAR\n);\n\nALTER TABLE Missao ADD CONSTRAINT FK_Missao_2\n    FOREIGN KEY (id_missao_anterior)\n    REFERENCES Missao (id_missao);\n\nALTER TABLE Missao ADD CONSTRAINT FK_Missao_3\n    FOREIGN KEY (item_necessario)\n    REFERENCES Item_Missao (id_item);\n\nCREATE TABLE Santuario (\n    id_santuario SERIAL PRIMARY KEY,\n    id_missao_requisito INTEGER,\n    id_missao_proximo_santuario INTEGER,\n    nome VARCHAR UNIQUE NOT NULL,\n    descricao VARCHAR,\n    nivel_recomendado INTEGER NOT NULL\n);\n\nCREATE TABLE Casa (\n    id_casa SERIAL PRIMARY KEY,\n    id_santuario INTEGER NOT NULL,\n    id_missao_requisito INTEGER,\n    id_missao_proxima_casa INTEGER,\n    nome VARCHAR NOT NULL,\n    descricao VARCHAR,\n    nivel_recomendado INTEGER NOT NULL\n);\n\nCREATE TABLE Sala (\n    id_sala SERIAL PRIMARY KEY,\n    id_casa INTEGER NOT NULL,\n    nome VARCHAR NOT NULL,\n    id_sala_norte INTEGER,\n    id_sala_sul INTEGER,\n    id_sala_leste INTEGER,\n    id_sala_oeste INTEGER\n);\n\n\n\nALTER TABLE Santuario ADD CONSTRAINT FK_Santuario_2\n    FOREIGN KEY (id_missao_requisito)\n    REFERENCES Missao (id_missao);\n\nALTER TABLE Santuario ADD CONSTRAINT FK_Santuario_3\n    FOREIGN KEY (id_missao_proximo_santuario)\n    REFERENCES Missao (id_missao);\n\nALTER TABLE Casa ADD CONSTRAINT FK_Casa_2\n    FOREIGN KEY (id_santuario)\n    REFERENCES Santuario (id_santuario);\n\nALTER TABLE Casa ADD CONSTRAINT FK_Casa_3\n    FOREIGN KEY (id_missao_requisito)\n    REFERENCES Missao (id_missao);\n\nALTER TABLE Casa ADD CONSTRAINT FK_Casa_4\n    FOREIGN KEY (id_missao_proxima_casa)\n    REFERENCES Missao (id_missao);\n\nALTER TABLE Sala ADD CONSTRAINT FK_Sala_2\n    FOREIGN KEY (id_casa)\n    REFERENCES Casa (id_casa);\n\n\nCREATE TABLE Npc_Ferreiro (\n    id_npc_ferreiro INTEGER PRIMARY KEY,\n    id_sala INTEGER NOT NULL,\n    id_missao_desbloqueia INTEGER NOT NULL,\n    nome VARCHAR NOT NULL,\n    descricao VARCHAR,\n    dialogo_inicial VARCHAR,\n    dialogo_reparar VARCHAR,\n    dialogo_upgrade VARCHAR\n);\n\n\nCREATE TABLE Npc_Quest (\n    id_npc_quest INTEGER PRIMARY KEY,\n    id_sala INTEGER NOT NULL,\n    nome VARCHAR NOT NULL,\n    descricao VARCHAR,\n    dialogo_inicial VARCHAR,\n    dialogo_recusa VARCHAR\n);\n\n\nCREATE TABLE Npc_Mercador (\n    id_npc_mercador INTEGER PRIMARY KEY,\n    id_sala INTEGER NOT NULL,\n    nome VARCHAR NOT NULL,\n    descricao VARCHAR,\n    dialogo_inicial VARCHAR,\n    dialogo_vender VARCHAR,\n    dialogo_comprar VARCHAR,\n    dialogo_sair VARCHAR\n);\n\n\n\nALTER TABLE Npc_Ferreiro ADD CONSTRAINT FK_Npc_Ferreiro_2\n    FOREIGN KEY (id_sala)\n    REFERENCES Sala (id_sala);\n\nALTER TABLE Npc_Ferreiro ADD CONSTRAINT FK_Npc_Ferreiro_3\n    FOREIGN KEY (id_missao_desbloqueia)\n    REFERENCES Missao (id_missao);\n\nALTER TABLE Npc_Quest ADD CONSTRAINT FK_Npc_Quest_2\n    FOREIGN KEY (id_sala)\n    REFERENCES Sala (id_sala);\n\nALTER TABLE Npc_Mercador ADD CONSTRAINT FK_Npc_Mercador_2\n    FOREIGN KEY (id_sala)\n    REFERENCES Sala (id_sala);\n\nCREATE TABLE Cavaleiro (\n    id_cavaleiro SERIAL PRIMARY KEY,\n    id_classe INTEGER NOT NULL,\n    id_elemento INTEGER NOT NULL,\n    nome VARCHAR UNIQUE NOT NULL,\n    nivel INTEGER NOT NULL,\n    hp_max INTEGER NOT NULL,\n    magia_max INTEGER NOT NULL,\n    velocidade_base INTEGER NOT NULL,\n    ataque_fisico_base INTEGER NOT NULL,\n    ataque_magico_base INTEGER NOT NULL\n);\n\n\n\n\n\nALTER TABLE Cavaleiro ADD CONSTRAINT FK_Cavaleiro_2\n    FOREIGN KEY (id_classe)\n    REFERENCES Classe (id_classe);\n\nALTER TABLE Cavaleiro ADD CONSTRAINT FK_Cavaleiro_3\n    FOREIGN KEY (id_elemento)\n    REFERENCES Elemento (id_elemento);\n\nCREATE TABLE Boss (\n    id_boss SERIAL PRIMARY KEY,\n    id_sala INTEGER NOT NULL,\n    nome INTEGER NOT NULL,\n    nivel INTEGER NOT NULL,\n    xp_acumulado INTEGER NOT NULL,\n    hp_max INTEGER NOT NULL,\n    hp_atual INTEGER NOT NULL,\n    magia_max INTEGER NOT NULL,\n    magia_atual INTEGER NOT NULL,\n    velocidade INTEGER NOT NULL,\n    ataque_fisico_base INTEGER NOT NULL,\n    ataque_magico_base INTEGER NOT NULL,\n    dinheiro INTEGER NOT NULL,\n    fala_inicio VARCHAR,\n    fala_derrotar_player VARCHAR,\n    fala_derrotado VARCHAR,\n    fala_condicao VARCHAR\n);\n\nALTER TABLE Boss ADD CONSTRAINT FK_Boss_2\n    FOREIGN KEY (id_sala)\n    REFERENCES Sala (id_sala);\n\nCREATE TABLE Inimigo (\n    id_inimigo SERIAL PRIMARY KEY,\n    id_classe INTEGER NOT NULL,\n    id_elemento INTEGER NOT NULL,\n    nome VARCHAR NOT NULL,\n    nivel INTEGER NOT NULL,\n    xp_acumulado INTEGER NOT NULL,\n    hp_max INTEGER NOT NULL,\n    magia_max INTEGER NOT NULL,\n    velocidade INTEGER NOT NULL,\n    ataque_fisico_base INTEGER NOT NULL,\n    ataque_magico_base INTEGER NOT NULL,\n    dinheiro INTEGER NOT NULL,\n    fala_inicio VARCHAR\n);\n\nALTER TABLE Inimigo ADD CONSTRAINT FK_Inimigo_2\n    FOREIGN KEY (id_elemento)\n    REFERENCES Elemento (id_elemento);\n\nALTER TABLE Inimigo ADD CONSTRAINT FK_Inimigo_3\n    FOREIGN KEY (id_classe)\n    REFERENCES Classe (id_classe);\n\nCREATE TABLE Grupo_inimigo (\n    id_grupo SERIAL PRIMARY KEY,\n    id_sala INTEGER\n);\n\n\nCREATE TABLE Instancia_Inimigo (\n    id_instancia SERIAL,\n    id_inimigo INTEGER,\n    id_grupo INTEGER,\n    hp_atual INTEGER NOT NULL,\n    magia_atual INTEGER NOT NULL,\n    defesa_fisica_bonus INTEGER,\n    defesa_magica_bonus INTEGER,\n    PRIMARY KEY (id_inimigo, id_instancia)\n);\n\nALTER TABLE Instancia_Inimigo ADD CONSTRAINT FK_Instancia_Inimigo_2\n    FOREIGN KEY (id_inimigo)\n    REFERENCES Inimigo (id_inimigo);\n\nALTER TABLE Instancia_Inimigo ADD CONSTRAINT FK_Instancia_Inimigo_3\n    FOREIGN KEY (id_grupo)\n    REFERENCES Grupo_inimigo (id_grupo);\n\nALTER TABLE Grupo_inimigo ADD CONSTRAINT FK_Grupo_inimigo_2\n    FOREIGN KEY (id_sala)\n    REFERENCES Sala (id_sala);\n\nCREATE TABLE Inventario (\n    id_player INTEGER PRIMARY KEY,\n    dinheiro INTEGER NOT NULL\n);\n\nALTER TABLE Inventario ADD CONSTRAINT FK_Inventario_1\n    FOREIGN KEY (id_player)\n    REFERENCES Player (id_player);\n\nCREATE TABLE Armadura_Instancia (\n    id_armadura INTEGER,\n    id_parte_corpo_armadura enum_parte_corpo,\n    id_instancia SERIAL,\n    id_inventario INTEGER,\n    raridade_armadura INTEGER NOT NULL,\n    defesa_magica INTEGER NOT NULL,\n    defesa_fisica INTEGER NOT NULL,\n    ataque_magico INTEGER NOT NULL,\n    ataque_fisico INTEGER NOT NULL, \n    durabilidade_max INTEGER NOT NULL,\n    preco_venda INTEGER NOT NULL,\n    PRIMARY KEY (id_armadura, id_instancia, id_parte_corpo_armadura)\n);\n\nALTER TABLE Armadura_Instancia ADD CONSTRAINT FK_Armadura_Instancia_2\n    FOREIGN KEY (id_armadura, id_parte_corpo_armadura)\n    REFERENCES Armadura (id_armadura, id_parte_corpo);\n\nALTER TABLE Armadura_Instancia ADD CONSTRAINT FK_Armadura_Instancia_3\n    FOREIGN KEY (id_inventario)\n    REFERENCES Inventario (id_player);\n\nCREATE TABLE Item_a_venda (\n    id_item INTEGER PRIMARY KEY,\n    preco_compra INTEGER NOT NULL,\n    level_minimo INTEGER NOT NULL\n);\n\nALTER TABLE Item_a_venda ADD CONSTRAINT FK_Item_a_venda_2\n    FOREIGN KEY (id_item)\n    REFERENCES Tipo_Item (id_item);\n\nCREATE TABLE Party (\n    id_player INTEGER PRIMARY KEY,\n    id_sala INTEGER\n);\n\nALTER TABLE Party ADD CONSTRAINT FK_Party_2\n    FOREIGN KEY (id_sala)\n    REFERENCES Sala (id_sala);\n\nCREATE TABLE Instancia_Cavaleiro (\n    id_instancia_cavaleiro SERIAL,\n    id_cavaleiro INTEGER NOT NULL,\n    id_party INTEGER,\n    nivel INTEGER NOT NULL,\n    xp_atual INTEGER NOT NULL,\n    hp_max INTEGER NOT NULL,\n    magia_max INTEGER NOT NULL,\n    hp_atual INTEGER NOT NULL,\n    magia_atual INTEGER NOT NULL,\n    velocidade INTEGER NOT NULL,\n    ataque_fisico INTEGER NOT NULL,\n    ataque_magico INTEGER NOT NULL,\n    PRIMARY KEY (id_cavaleiro, id_instancia_cavaleiro)\n);\n\nALTER TABLE Instancia_Cavaleiro ADD CONSTRAINT FK_Instancia_Cavaleiro_2\n    FOREIGN KEY (id_cavaleiro)\n    REFERENCES Cavaleiro (id_cavaleiro);\n\nALTER TABLE Instancia_Cavaleiro ADD CONSTRAINT FK_Instancia_Cavaleiro_3\n    FOREIGN KEY (id_party)\n    REFERENCES Party (id_player);\n\nCREATE TABLE Progresso_Player (\n    id_player INTEGER ,\n    id_boss INTEGER,\n    id_cavaleiro INTEGER ,\n    status_derrotado BOOLEAN,\n    PRIMARY KEY (id_player, id_boss)\n);\n\nALTER TABLE Progresso_Player ADD CONSTRAINT FK_Progresso_Player_2\n    FOREIGN KEY (id_player)\n    REFERENCES Player (id_player);\n\nALTER TABLE Progresso_Player ADD CONSTRAINT FK_Progresso_Player_3\n    FOREIGN KEY (id_boss)\n    REFERENCES Boss (id_boss);\n\nALTER TABLE Progresso_Player ADD CONSTRAINT FK_Progresso_Player_4\n    FOREIGN KEY (id_cavaleiro)\n    REFERENCES Cavaleiro (id_cavaleiro);\n\nCREATE TABLE Receita (\n    id_item_gerado INTEGER PRIMARY KEY,\n    descricao VARCHAR\n);\n\nALTER TABLE Receita ADD CONSTRAINT FK_Receita_2\n    FOREIGN KEY (id_item_gerado)\n    REFERENCES Tipo_Item (id_item);\n\nCREATE TYPE enum_status_missao as ENUM ('c','i','ni'); /* c = completo, i=iniciado,ni=n\u00e3o iniciado*/\nCREATE TABLE Player_Missao (\n    id_player INTEGER,\n    id_missao INTEGER,\n    status_missao enum_status_missao NOT NULL,\n    PRIMARY KEY (id_player, id_missao)\n);\n\nALTER TABLE Player_Missao ADD CONSTRAINT FK_Player_Missao_2\n    FOREIGN KEY (id_missao)\n    REFERENCES Missao (id_missao);\n\nALTER TABLE Player_Missao ADD CONSTRAINT FK_Player_Missao_3\n    FOREIGN KEY (id_player)\n    REFERENCES Player (id_player);\n\nCREATE TABLE Xp_Necessaria (\n    nivel INTEGER PRIMARY KEY,\n    xp_necessaria INTEGER NOT NULL\n);\n\nCREATE TABLE Material_Receita (\n    id_receita INTEGER,\n    id_material INTEGER,\n    quantidade INTEGER NOT NULL,\n    PRIMARY KEY (id_receita, id_material)\n);\n\nALTER TABLE Material_Receita ADD CONSTRAINT FK_Material_Receita_2\n    FOREIGN KEY (id_material)\n    REFERENCES Material (id_material);\n\nALTER TABLE Material_Receita ADD CONSTRAINT FK_Material_Receita_3\n    FOREIGN KEY (id_receita)\n    REFERENCES Receita (id_item_gerado);\n\nCREATE TABLE Habilidade_Player (\n    id_player INTEGER,\n    id_habilidade INTEGER,\n    slot INTEGER NOT NULL,\n    PRIMARY KEY (id_player, id_habilidade, slot)\n);\n\nALTER TABLE Habilidade_Player ADD CONSTRAINT FK_Habilidade_Player_2\n    FOREIGN KEY (id_habilidade)\n    REFERENCES Habilidade (id_habilidade);\n\nALTER TABLE Habilidade_Player ADD CONSTRAINT FK_Habilidade_Player_3\n    FOREIGN KEY (id_player)\n    REFERENCES Player (id_player);\n\nCREATE TABLE Habilidade_Cavaleiro (\n    id_cavaleiro INTEGER,\n    id_habilidade INTEGER,\n    slot INTEGER NOT NULL,\n    PRIMARY KEY (id_cavaleiro, id_habilidade, slot)\n);\n\nALTER TABLE Habilidade_Cavaleiro ADD CONSTRAINT FK_Habilidade_Cavaleiro_2\n    FOREIGN KEY (id_cavaleiro)\n    REFERENCES Cavaleiro (id_cavaleiro);\n\nALTER TABLE Habilidade_Cavaleiro ADD CONSTRAINT FK_Habilidade_Cavaleiro_3\n    FOREIGN KEY (id_habilidade)\n    REFERENCES Habilidade (id_habilidade);\n\nCREATE TABLE Habilidade_Boss (\n    id_boss INTEGER,\n    id_habilidade INTEGER,\n    PRIMARY KEY (id_boss, id_habilidade)\n);\n\nALTER TABLE Habilidade_Boss ADD CONSTRAINT FK_Habilidade_Boss_2\n    FOREIGN KEY (id_boss)\n    REFERENCES Boss (id_boss);\n\nALTER TABLE Habilidade_Boss ADD CONSTRAINT FK_Habilidade_Boss_3\n    FOREIGN KEY (id_habilidade)\n    REFERENCES Habilidade (id_habilidade);\n\nCREATE TABLE Parte_Corpo_Boss (\n    id_boss INTEGER,\n    parte_corpo enum_parte_corpo,\n    defesa_fisica INTEGER NOT NULL,\n    defesa_magica INTEGER NOT NULL,\n    chance_acerto_base INTEGER NOT NULL,\n    chance_acerto_critico INTEGER NOT NULL,\n    PRIMARY KEY (id_boss, parte_corpo)\n);\n\nALTER TABLE Parte_Corpo_Boss ADD CONSTRAINT FK_Parte_Corpo_Boss_2\n    FOREIGN KEY (id_boss)\n    REFERENCES Boss (id_boss);\n\nALTER TABLE Parte_Corpo_Boss ADD CONSTRAINT FK_Parte_Corpo_Boss_3\n    FOREIGN KEY (parte_corpo)\n    REFERENCES Parte_Corpo (id_parte_corpo);\n\nCREATE TABLE Parte_Corpo_Cavaleiro (\n    id_cavaleiro INTEGER,\n    parte_corpo enum_parte_corpo,\n    id_instancia_cavaleiro INTEGER NOT NULL,\n    defesa_fisica_bonus INTEGER NOT NULL,\n    defesa_magico_bonus INTEGER NOT NULL,\n    chance_acerto_base INTEGER NOT NULL,\n    chance_acerto_critico INTEGER NOT NULL,\n    PRIMARY KEY (id_cavaleiro, parte_corpo)\n);\n\nALTER TABLE Parte_Corpo_Cavaleiro ADD CONSTRAINT FK_Parte_Corpo_Cavaleiro_2\n    FOREIGN KEY (parte_corpo)\n    REFERENCES Parte_Corpo (id_parte_corpo);\n\nALTER TABLE Parte_Corpo_Cavaleiro ADD CONSTRAINT FK_Parte_Corpo_Cavaleiro_3\n    FOREIGN KEY (id_instancia_cavaleiro, id_cavaleiro)\n    REFERENCES Instancia_Cavaleiro (id_instancia_cavaleiro, id_cavaleiro);\n\nCREATE TABLE Parte_Corpo_Player (\n    id_player INTEGER,\n    parte_corpo enum_parte_corpo,\n    armadura_equipada INTEGER,\n    instancia_armadura_equipada INTEGER,\n    PRIMARY KEY (id_player, parte_corpo)\n);\n\nALTER TABLE Parte_Corpo_Player ADD CONSTRAINT FK_Parte_Corpo_Player_2\n    FOREIGN KEY (id_player)\n    REFERENCES Player (id_player);\n\nALTER TABLE Parte_Corpo_Player ADD CONSTRAINT FK_Parte_Corpo_Player_3\n    FOREIGN KEY (parte_corpo)\n    REFERENCES Parte_Corpo (id_parte_corpo);\n\nALTER TABLE Parte_Corpo_Player ADD CONSTRAINT FK_Parte_Corpo_Player_4\n    FOREIGN KEY (armadura_equipada, instancia_armadura_equipada, parte_corpo)\n    REFERENCES Armadura_Instancia (id_armadura, id_instancia, id_parte_corpo_armadura);\n\nCREATE TABLE Elemento_Boss (\n    id_elemento INTEGER,\n    id_boss INTEGER,\n    PRIMARY KEY (id_boss, id_elemento)\n);\n\nALTER TABLE Elemento_Boss ADD CONSTRAINT FK_Elemento_Boss_1\n    FOREIGN KEY (id_elemento)\n    REFERENCES Elemento (id_elemento);\n\nALTER TABLE Elemento_Boss ADD CONSTRAINT FK_Elemento_Boss_2\n    FOREIGN KEY (id_boss)\n    REFERENCES Boss (id_boss);\n\nCREATE TABLE Habilidade_Inimigo (\n    id_habilidade INTEGER,\n    id_player INTEGER,\n    PRIMARY KEY (id_habilidade, id_player)\n);\n\nALTER TABLE Habilidade_Inimigo ADD CONSTRAINT FK_Habilidade_Inimigo_2\n    FOREIGN KEY (id_habilidade)\n    REFERENCES Habilidade (id_habilidade);\n\nALTER TABLE Habilidade_Inimigo ADD CONSTRAINT FK_Habilidade_Inimigo_3\n    FOREIGN KEY (id_player)\n    REFERENCES Inimigo (id_inimigo);\n\nCREATE TABLE Item_Armazenado (\n    id_inventario INTEGER,\n    id_item INTEGER,\n    quantidade INTEGER NOT NULL,\n    PRIMARY KEY (id_inventario, id_item)\n);\n\nALTER TABLE Item_Armazenado ADD CONSTRAINT FK_Item_Armazenado_2\n    FOREIGN KEY (id_inventario)\n    REFERENCES Inventario (id_player);\n\nALTER TABLE Item_Armazenado ADD CONSTRAINT FK_Item_Armazenado_3\n    FOREIGN KEY (id_item)\n    REFERENCES Tipo_Item (id_item);\n\nCREATE TABLE Item_grupo_inimigo_dropa (\n    id_item INTEGER,\n    id_grupo_inimigo INTEGER,\n    quantidade INTEGER NOT NULL,\n    PRIMARY KEY (id_item, id_grupo_inimigo)\n);\n\nALTER TABLE Item_grupo_inimigo_dropa ADD CONSTRAINT FK_Item_grupo_inimigo_dropa_2\n    FOREIGN KEY (id_item)\n    REFERENCES Tipo_Item (id_item);\n\nALTER TABLE Item_grupo_inimigo_dropa ADD CONSTRAINT FK_Item_grupo_inimigo_dropa_3\n    FOREIGN KEY (id_grupo_inimigo)\n    REFERENCES Grupo_inimigo (id_grupo);\n\nCREATE TABLE Texto (\n    id SERIAL PRIMARY KEY,\n    texto TEXT NOT NULL,\n    nome_texto VARCHAR NOT NULL\n);\n\nINSERT INTO Texto (nome_texto, texto)\nVALUES (\n'logo', \n'     ______                           __          _                                      __               _____              __    _\n-    / ____/  ____ _ _   __  ____ _   / /  ___    (_)   _____  ____    _____         ____/ /  ____        /__  /  ____   ____/ /   (_)  ____ _  _____  ____\n-   / /      / __ `/| | / / / __ `/  / /  / _ \\  / /   / ___/ / __ \\  / ___/        / __  /  / __ \\         / /  / __ \\ / __  /   / /  / __ `/ / ___/ / __ \\\n-  / /___   / /_/ / | |/ / / /_/ /  / /  /  __/ / /   / /    / /_/ / (__  )        / /_/ /  / /_/ /        / /__/ /_/ // /_/ /   / /  / /_/ / / /__  / /_/ /\n-  \\____/   \\__,_/  |___/  \\__,_/  /_/   \\___/ /_/   /_/     \\____/ /____/         \\__,_/   \\____/        /____/\\____/ \\__,_/   /_/   \\__,_/  \\___/  \\____/'    \n);\n\nINSERT INTO Texto (nome_texto, texto)\nVALUES ('introducao', \n'Desde tempos imemoriais, quando o mal amea\u00e7ou dominar o mundo, guerreiros sagrados se ergueram para proteger a paz na Terra. Vestindo armaduras forjadas pelas constela\u00e7\u00f5es, eles lutaram com coragem e honra em nome da deusa Atena. Esses guerreiros s\u00e3o conhecidos como os lend\u00e1rios Cavaleiros do Zod\u00edaco.\n\nAgora, as for\u00e7as sombrias despertam mais uma vez, e o equil\u00edbrio do mundo est\u00e1 em perigo. Somente aqueles com um cora\u00e7\u00e3o puro e a for\u00e7a do Cosmo poder\u00e3o enfrentar o destino e erguer-se como verdadeiros defensores da justi\u00e7a.\n\nPrepare-se para vestir sua armadura, elevar seu Cosmo e escrever sua pr\u00f3pria lenda. A batalha pelo futuro da humanidade come\u00e7a agora!'\n);\n\nCREATE OR REPLACE FUNCTION public.mudar_sala(id_player_input INTEGER, direcao TEXT)\nRETURNS VOID\nLANGUAGE plpgsql\nAS $function$\nDECLARE\n    nova_sala_id INTEGER;\nBEGIN\n    -- Verifica a sala conectada na dire\u00e7\u00e3o especificada\n    SELECT CASE LOWER(direcao)\n        WHEN 'norte' THEN s.id_sala_norte\n        WHEN 'sul'   THEN s.id_sala_sul\n        WHEN 'leste' THEN s.id_sala_leste\n        WHEN 'oeste' THEN s.id_sala_oeste\n        ELSE NULL\n    END INTO nova_sala_id\n    FROM public.sala s\n    JOIN public.party p ON p.id_sala = s.id_sala\n    WHERE p.id_player = id_player_input;\n\n    -- Verifica se a sala existe e atualiza a localiza\u00e7\u00e3o da party\n    IF nova_sala_id IS NOT NULL THEN\n        UPDATE public.party\n        SET id_sala = nova_sala_id\n        WHERE id_player = id_player_input;\n    ELSE\n        RAISE NOTICE 'Movimento inv\u00e1lido: N\u00e3o h\u00e1 sala conectada nessa dire\u00e7\u00e3o.';\n    END IF;\nEND;\n$function$;\n</code></pre>"},{"location":"modulo02/DML/","title":"Data Manipulation Language","text":""},{"location":"modulo02/DML/#dml","title":"DML","text":""},{"location":"modulo02/DML/#versionamento","title":"Versionamento","text":"Vers\u00e3o Data Modifica\u00e7\u00e3o Autor 0.1 11/12/2023 Cria\u00e7\u00e3o do Documento Vin\u00edcius Rufino <pre><code>ALTER TABLE santuario RENAME TO saga;\nALTER TABLE saga RENAME COLUMN id_santuario TO id_saga;\nALTER TABLE saga RENAME COLUMN id_missao_proximo_santuario TO id_missao_proxima_saga;\nALTER TABLE casa RENAME COLUMN id_santuario TO id_saga;\nALTER TABLE Missao ALTER COLUMN nome TYPE VARCHAR USING NULL;\n\nINSERT INTO Saga (id_saga, id_missao_requisito, id_missao_proxima_saga, nome, descricao, nivel_recomendado)\nVALUES (1, NULL, NULL, 'Saga SafeHouse', 'O in\u00edcio da jornada dos Cavaleiros de Bronze, onde cresceram e descobriram seus destinos.', 1);\n\n\n\nINSERT INTO Casa (id_casa, id_saga, id_missao_requisito, id_missao_proxima_casa, nome, descricao, nivel_recomendado)\nVALUES (1, 1, NULL, NULL, 'Casa SafeHouse', 'O lugar onde os\nCavaleiros de Bronze viveram antes de serem enviados para seus treinamentos.', 1);\n\n\n\nINSERT INTO Sala (id_sala, id_casa, nome, id_sala_norte, id_sala_sul, id_sala_leste, id_sala_oeste)\nVALUES (1, 1, 'Sala Principal SafeHouse', 2, 3, NULL, NULL);\n\nINSERT INTO Sala (id_sala, id_casa, nome, id_sala_norte, id_sala_sul, id_sala_leste, id_sala_oeste)\nVALUES (2, 1, 'Sala Das Miss\u00f5es', NULL, 1, NULL, NULL);\n\nINSERT INTO Sala (id_sala, id_casa, nome, id_sala_norte, id_sala_sul, id_sala_leste, id_sala_oeste)\nVALUES (3, 1, 'Oficina de Armaduras de Mu', 1, NULL, NULL, NULL);\n\nINSERT INTO Saga (id_saga, id_missao_requisito, id_missao_proxima_saga, nome, descricao, nivel_recomendado)\nVALUES (2, NULL, NULL, 'Saga das 12 Casas', 'Os Cavaleiros de Bronze enfrentam os Cavaleiros de Ouro para salvar Atena.', 1);\n\nALTER TABLE Tipo_Item ALTER COLUMN tipo_item TYPE enum_tipo_item USING NULL;\n\nINSERT INTO public.tipo_item (id_item, tipo_item)\nVALUES(1, 'i');\n\nINSERT INTO public.item_missao\n(id_item, nome, descricao)\nVALUES(1, 'Ben\u00e7\u00e3o de Mu', 'Ao derrotar Mu ele aben\u00e7oa os Cavaleiros');\n\nINSERT INTO public.missao\n(id_missao_anterior, item_necessario, nome, dialogo_inicial, dialogo_durante, dialogo_completa)\nVALUES( NULL, 1, 'Derrote o Cavaleiro de \u00c1ries', '', '', '');\n\n\n\nINSERT INTO Casa (id_casa, id_saga, id_missao_requisito, id_missao_proxima_casa, nome, descricao, nivel_recomendado)\nVALUES (2, 2, NULL, 1, 'Casa \u00c1ries', 'A casa protegida por Mu, o Cavaleiro de \u00c1ries, que repara as armaduras dos Cavaleiros de Bronze.', 1);\n\n\n\nINSERT INTO Sala (id_sala, id_casa, nome, id_sala_norte, id_sala_sul, id_sala_leste, id_sala_oeste)\nVALUES (4, 2, 'Covil dos esqueletos', 5, NULL, NULL, NULL);\n\n\nINSERT INTO Sala (id_sala, id_casa, nome, id_sala_norte, id_sala_sul, id_sala_leste, id_sala_oeste)\nVALUES (5, 2, 'Covil Dos An\u00f5es', NULL, 4, 6, 7);\n\nINSERT INTO Sala (id_sala, id_casa, nome, id_sala_norte, id_sala_sul, id_sala_leste, id_sala_oeste)\nVALUES (6, 2, 'Covil das serpentes', NULL, NULL, NULL, 5);\n\nINSERT INTO Sala (id_sala, id_casa, nome, id_sala_norte, id_sala_sul, id_sala_leste, id_sala_oeste)\nVALUES (7, 2, 'Sala dos Cavaleiros Negros', 8, NULL, 5, NULL);\n\nINSERT INTO Sala (id_sala, id_casa, nome, id_sala_norte, id_sala_sul, id_sala_leste, id_sala_oeste)\nVALUES (8, 2, 'Sala de combate de \u00c1ries', NULL, 7, NULL, NULL);\n\n\nINSERT INTO Elemento (id_elemento, nome, descricao)\nVALUES\n  (1, 'Fogo', 'Controla o calor e as chamas, usado frequentemente para atacar com intensidade.'),\n  (2, '\u00c1gua', 'Flui e adapta-se, frequentemente usada para defesa e restri\u00e7\u00e3o de movimentos.'),\n  (3, 'Terra', 'S\u00f3lido e confi\u00e1vel, usado para defesa e ataques f\u00edsicos.'),\n  (4, 'Vento', 'R\u00e1pido e inconstante, usado para movimenta\u00e7\u00e3o r\u00e1pida e ataques evasivos.'),\n  (5, 'Trov\u00e3o', 'Poderoso e chocante, usado para ataques el\u00e9tricos r\u00e1pidos e devastadores.');\n\n\nUPDATE Elemento SET fraco_contra = 2, forte_contra = 3 WHERE id_elemento = 1;  -- Fogo fraco contra \u00c1gua, forte contra Terra\nUPDATE Elemento SET fraco_contra = 3, forte_contra = 1 WHERE id_elemento = 2;  -- \u00c1gua fraca contra Terra, forte contra Fogo\nUPDATE Elemento SET fraco_contra = 4, forte_contra = 5 WHERE id_elemento = 3; -- Terra fraca contra Vento, forte contra Trov\u00e3o\nUPDATE Elemento SET fraco_contra = 1, forte_contra = 3 WHERE id_elemento = 4; -- Vento fraco contra Fogo, forte contra Terra\nUPDATE Elemento SET fraco_contra = 3, forte_contra = 2 WHERE id_elemento = 5; -- Trov\u00e3o fraco contra Terra, forte contra \u00c1gua\n\nCREATE OR REPLACE FUNCTION insert_random_cdz_player()\nRETURNS void AS\n$$\nDECLARE\n    nome_cdz TEXT;\n    id_elemento_min INT;\n    id_elemento_max INT;\nBEGIN\n\n    WITH nomes AS (\n        SELECT unnest(ARRAY['Arion', 'Celestis', 'Drakon', 'Helion', 'Zephyr']) AS nome\n    )\n    SELECT nome INTO nome_cdz FROM nomes ORDER BY random() LIMIT 1;\n\n    -- Obter o m\u00ednimo e o m\u00e1ximo ID do elemento\n    SELECT MIN(id_elemento), MAX(id_elemento) INTO id_elemento_min, id_elemento_max FROM Elemento;\n\n    -- Inserir o registro com valores aleat\u00f3rios\n    INSERT INTO public.player\n    (id_elemento, nome, nivel, xp_acumulado, hp_max, magia_max, hp_atual, magia_atual, velocidade, ataque_fisico_base, ataque_magico_base, id_sala_safe)\n    VALUES\n    (floor(random() * (id_elemento_max - id_elemento_min + 1) + id_elemento_min), nome_cdz, floor(random() * 61), floor(random() * 61), floor(random() * 61), floor(random() * 61), floor(random() * 61), floor(random() * 61), floor(random() * 61), floor(random() * 61), floor(random() * 61), floor(random() * 61));\nEND;\n$$\nLANGUAGE plpgsql;\n\nSELECT insert_random_cdz_player();\n\nINSERT INTO party (id_player, id_sala)\nVALUES(1, 1);\n\nCREATE OR REPLACE FUNCTION setar_sala_inicial(id_player_input INT)\nRETURNS VOID AS $$\nDECLARE\n    sala_inicial_id INT;\nBEGIN\n    -- Recupera o menor id_sala da tabela sala\n    SELECT MIN(id_sala) INTO sala_inicial_id FROM public.sala;\n\n    -- Verifica se existe uma sala\n    IF sala_inicial_id IS NOT NULL THEN\n        -- Atualiza o id_sala_safe do player\n        UPDATE public.player\n        SET id_sala_safe = sala_inicial_id\n        WHERE id_player = id_player_input;\n\n        -- Insere na party\n        INSERT INTO public.party (id_player, id_sala)\n        VALUES (id_player_input, sala_inicial_id);\n    ELSE\n        RAISE EXCEPTION 'Nenhuma sala encontrada na tabela sala.';\n    END IF;\nEND;\n$$ LANGUAGE plpgsql;\n\nCREATE OR REPLACE FUNCTION setar_nova_sala(id_player_input INT, id_sala_input INT)\nRETURNS VOID AS $$\nBEGIN\n    -- Verifica se a sala existe\n    IF EXISTS (SELECT 1 FROM public.sala WHERE id_sala = id_sala_input) THEN\n        -- Atualiza o id_sala na tabela party para o jogador\n        UPDATE public.party\n        SET id_sala = id_sala_input\n        WHERE id_player = id_player_input;\n\n        -- Verifica se o jogador j\u00e1 est\u00e1 na tabela party, caso contr\u00e1rio, insere\n        IF NOT FOUND THEN\n            INSERT INTO public.party (id_player, id_sala)\n            VALUES (id_player_input, id_sala_input);\n        END IF;\n    ELSE\n        RAISE EXCEPTION 'Sala com id_sala % n\u00e3o encontrada.', id_sala_input;\n    END IF;\nEND;\n$$ LANGUAGE plpgsql;\n\n\n\nCREATE OR REPLACE FUNCTION get_salas_conectadas(id_player_input INT)\nRETURNS TABLE(id_sala INT, nome VARCHAR) AS $$\nBEGIN\n    RETURN QUERY\n    WITH salas_conectadas AS (\n        SELECT\n            unnest(ARRAY[s.id_sala_norte, s.id_sala_sul, s.id_sala_leste, s.id_sala_oeste]) AS id_sala_direcao\n        FROM public.sala s\n        WHERE s.id_sala = (\n            SELECT p.id_sala\n            FROM public.party p\n            WHERE p.id_player = id_player_input\n            LIMIT 1\n        )\n    )\n    SELECT\n        s.id_sala, s.nome\n    FROM salas_conectadas sc\n    JOIN public.sala s ON sc.id_sala_direcao = s.id_sala\n    WHERE sc.id_sala_direcao IS NOT NULL;\nEND;\n$$ LANGUAGE plpgsql;\n\n\nCREATE OR REPLACE FUNCTION public.get_player_info(player_id integer)\nRETURNS text\nLANGUAGE plpgsql\nAS $function$\nBEGIN\n    RETURN (\n        SELECT STRING_AGG(\n            FORMAT(\n                'Nome: %s %sN\u00edvel: %s%sXP Acumulado: %s%sHP M\u00e1ximo: %s%sMagia M\u00e1xima: %s%sHP Atual: %s%sMagia Atual: %s%sVelocidade: %s%sAtaque F\u00edsico Base: %s%sAtaque M\u00e1gico Base: %s%sElemento: %s',\n                p.nome, E'\\n',\n                p.nivel, E'\\n',\n                p.xp_acumulado, E'\\n',\n                p.hp_max, E'\\n',\n                p.magia_max, E'\\n',\n                p.hp_atual, E'\\n',\n                p.magia_atual, E'\\n',\n                p.velocidade, E'\\n',\n                p.ataque_fisico_base, E'\\n',\n                p.ataque_magico_base, E'\\n',\n                e.nome\n            ),\n            E'\\n'  -- Delimitador entre os registros (caso haja mais de um)\n        )\n        FROM player p\n        INNER JOIN elemento e ON e.id_elemento = p.id_elemento\n        WHERE p.id_player = player_id\n    );\nEND;\n$function$;\n\n\nCREATE OR REPLACE FUNCTION listar_jogadores_formatados()\nRETURNS TEXT AS $$\nBEGIN\n    RETURN (\n        SELECT STRING_AGG(\n            FORMAT(\n                'Nome: %s N\u00edvel: %s Elemento: %s ',\n                p.nome,\n                p.nivel,\n                e.nome\n            ),\n            E'\\n'  -- Delimitador entre as entradas\n        )\n        FROM \n            player p\n        INNER JOIN \n            elemento e ON e.id_elemento = p.id_elemento\n    );\nEND;\n$$ LANGUAGE plpgsql;\n\nCREATE OR REPLACE FUNCTION get_sala_atual(id_player_input INT)\nRETURNS TEXT AS $$\nBEGIN\n    RETURN (\n        SELECT STRING_AGG(\n            FORMAT('Sala Atual: %s',s.nome),\n            '\\n'\n        )\n        FROM sala s\n        INNER JOIN party p ON s.id_sala = p.id_sala\n        WHERE p.id_player = id_player_input\n    );\nEND;\n$$ LANGUAGE plpgsql;\n\nCREATE OR REPLACE FUNCTION get_nome_sala(id_sala_input INT)\nRETURNS VARCHAR AS $$\nBEGIN\n    RETURN (\n        SELECT s.nome\n        FROM sala s\n        WHERE s.id_sala = id_sala_input\n        LIMIT 1\n    );\nEND;\n$$ LANGUAGE plpgsql;\n</code></pre>"},{"location":"modulo02/DQL/","title":"Data Query Language","text":""},{"location":"modulo02/DQL/#dql","title":"DQL","text":""},{"location":"modulo02/DQL/#versionamento","title":"Versionamento","text":"Vers\u00e3o Data Modifica\u00e7\u00e3o Autor 0.1 11/12/2023 Cria\u00e7\u00e3o do Documento Vin\u00edcius Rufino <pre><code>-- 1. Listar informa\u00e7\u00f5es do play\nSELECT * FROM Player;\n-- 2. Listar todos os items no invent\u00e1r\nSELECT * FROM Inventario;\n-- 3. Listar todos os cavaleiros desbloquead\nSELECT * FROM Cavaleiro;\n-- 4. Escolher qual cavaleiro desbloqueado quer ver e listar todas\ninforma\u00e7\u00f5es do cavaleiro\nSELECT *\nFROM Cavaleiro\nWHERE id_cavaleiro = {id_cavaleiro};\n-- 5. Mostrar em que sala o player es\nSELECT id_sala\nFROM Party\nWHERE id_player = {id_player};\n-- 6. Listar pras quais salas a partir da sala que o player est\u00e1 ele pode\nSELECT id_sala_norte, id_sala_sul, id_sala_leste, id_sala_oeste\nFROM Sala\nWHERE id_sala = (SELECT id_sala FROM Party WHERE id_player\n{id_player});\n-- 7. Listar as habilidades do play\nSELECT Habilidade.*\nFROM Habilidade_Player\nJOIN Habilidade ON Habilidade_Player.id_habilidade\nHabilidade.id_habilidade\nWHERE id_player = {id_player};\n-- 8. Listar as habilidades dos cavaleiros desbloquead\nSELECT Habilidade.*\nSELECTs e Procedure to Insert 2\nFROM Habilidade\nJOIN Cavaleiro ON Habilidade.classe_habilidade Cavaleiro.id_classe\n-- 9. Listar os cavaleiros na par\nSELECT Cavaleiro.*\nFROM Cavaleiro\nJOIN Party ON Party.id_player = {id_player};\n-- 10. Listar os items \u00e0 ven\nSELECT * FROM Item_a_venda;\n-- 11. Listar as armaduras equipadas nas partes do corpo do play\nSELECT Parte_Corpo_Player.\n, Armadura.\nFROM Parte_Corpo_Player\nJOIN Armadura ON Parte_Corpo_Player.armadura_equipada\nArmadura.id_armadura\nWHERE id_player = {id_player};\n-- 12. Listar qual cavaleiro \u00e9 desbloqueado ao derrotar certo bo\nSELECT Progresso_Player.id_cavaleiro, Boss.nome\nFROM Progresso_Player\nJOIN Boss ON Progresso_Player.id_boss Boss.id_bos\nWHERE Progresso_Player.status_derrotado TRUE\n-- 13. Listar quais os inimigos que est\u00e3o no grupo_inimigo e em qual sa\nSELECT Inimigo., Grupo_inimigo.id_sala\nFROM Grupo_inimigo\nJOIN Inimigo ON Grupo_inimigo.id_grupo Inimigo.id_classe\n-- 14. Listar habilidades do bo\nSELECT Habilidade.\nFROM Habilidade_Boss\nJOIN Habilidade ON Habilidade_Boss.id_habilidade Habilidade.id_habilidad\nWHERE Habilidade_Boss.id_boss = {id_boss};\n-- 15. Listar habilidades dispon\u00edveis para cavaleiro aprender de acordo c\nseu n\u00edvel, classe e elemento\nSELECT Habilidade.*\nFROM Habilidade\nSELECTs e Procedure to Insert 3\nJOIN Cavaleiro ON Habilidade.classe_habilidade Cavaleiro.id_classe AN\nHabilidade.elemento_habilidade Cavaleiro.id_element\nWHERE Habilidade.nivel_necessario = Cavaleiro.nive\n-- 16. Listar todos os Boss de um santu\u00e1rio escolhido pelo jogador e o stat\n(se est\u00e1 derrotado ou n\u00e3o)\nSELECT Boss.*, Progresso_Player.status_derrotado\nFROM Boss\nJOIN Sala ON Boss.id_sala Sala.id_sal\nJOIN Casa ON Sala.id_casa Casa.id_cas\nJOIN Santuario ON Casa.id_santuario Santuario.id_santuari\nWHERE Santuario.id_santuario = {id_santuario};\nCREATE OR REPLACE PROCEDURE insert_item(\nid_item INTEGER,\ntipo_item ENUM_tipo_item\n) AS $\nBEGIN\nINSERT INTO Tipo_Item (id_item, tipo_item) VALUES (id_item, tipo_item);\nEND;\n$$ LANGUAGE plpgsql;\n-- Exemplo de uso\nCALL insert_item(1, 'a');\n</code></pre>"}]}